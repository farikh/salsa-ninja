{"id":"app-5gx","title":"Design chat architecture","description":"Flesh out the chat feature architecture based on research in docs/research/chat-solution-analysis.md. Build on Supabase Realtime using tested open-source patterns from Cord, Valkyrie, Discord Clone, and chatscope. Deliverables: (1) PostgreSQL schema adapted from Cord/Valkyrie for channels, messages, threads, reactions, presence (2) RLS policies (3) Supabase Realtime integration plan (Broadcast, Presence, Postgres Changes) (4) UI component strategy (chatscope vs custom shadcn/ui) (5) Next.js route structure (6) Resolve open questions: threading model, read receipts, media handling, notifications, channel types. Reference projects to pull schemas from: getcord/cord, sentrionic/Valkyrie, nayak-nirmalya/discord-clone, supabase slack-clone.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T21:32:43.3400137-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:33:04.8809135-05:00","closed_at":"2026-02-03T22:33:04.8809135-05:00","close_reason":"Architecture design complete. 5 review rounds: R1 fixed 4 CRITICAL + 7 HIGH, R2 fixed 6 HIGH, R3 fixed 5 HIGH, R4 fixed 1 CRITICAL + 1 HIGH. R5 clean — no remaining CRITICAL or HIGH issues. Document ready for implementation."}
{"id":"app-5gx.1","title":"Review Cord PostgreSQL schema","description":"Pull and review getcord/cord PostgreSQL migrations. Document table structures for threads, reactions, mentions, notifications. Map which patterns are directly portable to our Supabase schema. This is the highest-value schema reference.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T21:37:51.8012842-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:08:47.4319415-05:00","closed_at":"2026-02-03T22:08:47.4319415-05:00","close_reason":"Research complete. Cord PostgreSQL schema analyzed and documented in docs/research/cord-database-schema-reference.md. Key patterns identified: reactions as separate table, mentions denormalized at write time, soft delete via timestamp, JSONB content format, generated tsvector for search.","dependencies":[{"issue_id":"app-5gx.1","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T21:37:51.8062836-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.10","title":"Fix C4: notification_preferences/muted_channels RLS uses auth.uid() instead of member_id","description":"Same members.id vs auth.users.id mismatch as C1. RLS policies on notification_preferences and muted_channels will never match.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:09:38.8059332-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:15:37.9281846-05:00","closed_at":"2026-02-03T22:15:37.9281846-05:00","close_reason":"Fixed: notification_preferences and muted_channels RLS now use get_current_member_id() instead of auth.uid().","dependencies":[{"issue_id":"app-5gx.10","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:09:38.8097853-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.11","title":"Fix H1: channel_members RLS blocks presence, member lists, reactions","description":"SELECT policy only allows self-read. Cannot display member counts or lists. Missing INSERT/DELETE policies for admin channel management.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:10:11.0020238-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:15:54.2813648-05:00","closed_at":"2026-02-03T22:15:54.2813648-05:00","close_reason":"Fixed: Added co-member visibility policy, admin INSERT/DELETE policies, and self-leave DELETE policy on channel_members.","dependencies":[{"issue_id":"app-5gx.11","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:10:11.005155-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.12","title":"Fix H2: No RLS INSERT policy for message_attachments","description":"No INSERT policy means no one can create attachment records. Upload flow breaks.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:10:16.9617886-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:16:00.000477-05:00","closed_at":"2026-02-03T22:16:00.000477-05:00","close_reason":"Fixed: Added INSERT policy for message_attachments requiring sender ownership of parent message/DM.","dependencies":[{"issue_id":"app-5gx.12","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:10:16.9666462-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.13","title":"Fix H3: Broadcast/reconnect duplicate messages","description":"No deduplication logic. Messages received via broadcast will be fetched again on reconnect.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:10:22.9012912-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:16:05.7963491-05:00","closed_at":"2026-02-03T22:16:05.7963491-05:00","close_reason":"Fixed: Added client-side deduplication via Set of known message IDs in addMessage function.","dependencies":[{"issue_id":"app-5gx.13","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:10:22.9051113-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.14","title":"Fix H4: reply_count trigger ignores soft deletes","description":"Trigger fires on INSERT/DELETE but system uses soft delete. Counter never decrements.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:10:28.881513-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:16:11.4977925-05:00","closed_at":"2026-02-03T22:16:11.4977925-05:00","close_reason":"Fixed: reply_count trigger now handles UPDATE OF deleted_at for soft-delete decrement and un-delete increment.","dependencies":[{"issue_id":"app-5gx.14","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:10:28.8854865-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.15","title":"Fix H5: member_limited role has no channel access path","description":"No mechanism described for auto-enrolling member_limited users or preventing them from joining premium channels.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:10:34.9313657-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:16:17.4092136-05:00","closed_at":"2026-02-03T22:16:17.4092136-05:00","close_reason":"Fixed: Added section 8.3 documenting channel enrollment by role (public=auto-enroll, segment=admin-managed, admin-only=owner/instructor). member_limited distinction enforced at enrollment time.","dependencies":[{"issue_id":"app-5gx.15","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:10:34.9346632-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.16","title":"Fix H6: Missing ALTER TABLE ENABLE ROW LEVEL SECURITY","description":"No ENABLE RLS statements for new tables. Without them, policies have no effect.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:10:40.9932459-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:16:23.0836565-05:00","closed_at":"2026-02-03T22:16:23.0836565-05:00","close_reason":"Fixed: Added ALTER TABLE ENABLE ROW LEVEL SECURITY for all 5 new tables before policy definitions.","dependencies":[{"issue_id":"app-5gx.16","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:10:40.996997-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.17","title":"Fix H7: Unread count includes user's own messages","description":"get_unread_counts counts user's own messages as unread. Needs sender exclusion filter.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:10:46.9788573-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:16:28.7886643-05:00","closed_at":"2026-02-03T22:16:28.7886643-05:00","close_reason":"Fixed: get_unread_counts now excludes user's own messages via sender_id \\!= subquery.","dependencies":[{"issue_id":"app-5gx.17","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:10:46.9810157-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.18","title":"Fix H-NEW-1/2: Document dual-identity model for channel_members/reactions","description":"channel_members and message_reactions use auth.users(id) while messages use members(id). Document rationale or unify.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:19:02.7134782-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:22:10.5185939-05:00","closed_at":"2026-02-03T22:22:10.5185939-05:00","close_reason":"Fixed: Documented dual-identity model rationale in section 2.5. Access control tables use auth.uid() for RLS efficiency, content tables use members.id for display joins. Invariant documented: every chat user must have both auth.users and members rows.","dependencies":[{"issue_id":"app-5gx.18","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:19:02.7352417-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.19","title":"Fix H-NEW-3: DM storage RLS allows any authenticated user to read DM files","description":"Storage RLS for dms/ path has no participant validation. Any user can upload/read DM files.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:19:11.7916634-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:22:16.7648631-05:00","closed_at":"2026-02-03T22:22:16.7648631-05:00","close_reason":"Fixed: Added is_dm_participant() helper function. DM storage paths now validated via conversation_hash matching against actual DM participants.","dependencies":[{"issue_id":"app-5gx.19","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:19:11.8060823-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.2","title":"Evaluate chatscope visual fit","description":"Evaluate chatscope/chat-ui-kit-react components against our Tailwind/shadcn/ui design system. Can chatscope be styled to match our palette (red/coral #ef4444, gold/amber #f59e0b, neutrals)? Does override effort negate the benefit vs building custom shadcn/ui chat components? Produce a recommendation: adopt chatscope, build custom, or hybrid.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T21:38:32.4616853-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:02:55.9542424-05:00","closed_at":"2026-02-03T22:02:55.9542424-05:00","close_reason":"Chatscope rejected (SCSS incompatible with Tailwind). Recommendation: custom shadcn/ui components bootstrapped from Supabase UI Realtime Chat.","dependencies":[{"issue_id":"app-5gx.2","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T21:38:32.466741-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.20","title":"Fix H-NEW-4: No rate limit on direct_messages","description":"Rate limit trigger only on messages table. DM spam can flood notifications and exhaust Resend quota.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:19:19.7716167-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:22:22.807453-05:00","closed_at":"2026-02-03T22:22:22.807453-05:00","close_reason":"Fixed: Added check_dm_rate_limit() trigger on direct_messages. Max 20 DMs per 60 seconds per sender across all recipients.","dependencies":[{"issue_id":"app-5gx.20","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:19:19.8196172-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.21","title":"Fix H-NEW-5/6: DB functions accept arbitrary user_id without auth check","description":"mark_channel_read, mark_all_read, and get_unread_counts accept p_user_id parameter. Should use auth.uid() directly.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:19:27.4154537-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:22:28.7683333-05:00","closed_at":"2026-02-03T22:22:28.7683333-05:00","close_reason":"Fixed: Removed p_user_id parameter from get_unread_counts(), mark_channel_read(), and mark_all_read(). All three now use auth.uid() internally. Added SECURITY INVOKER.","dependencies":[{"issue_id":"app-5gx.21","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:19:27.4348999-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.22","title":"Fix R3-H1: members.user_id lacks UNIQUE constraint","description":"Chat architecture claims members.user_id is UNIQUE but database-schema.md does not have this constraint. get_current_member_id() depends on it.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:24:41.2516378-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:26:43.7278694-05:00","closed_at":"2026-02-03T22:26:43.7278694-05:00","close_reason":"Fixed: Added UNIQUE constraint requirement for members.user_id in architecture doc. Documented as prerequisite in section 2.5.","dependencies":[{"issue_id":"app-5gx.22","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:24:41.2561579-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.23","title":"Fix R3-H2/H3: channel_members UPDATE allows privilege escalation","description":"UPDATE policy allows members to change their own role column to admin/moderator. Need validation trigger to restrict column scope.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:24:48.0664646-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:26:49.586825-05:00","closed_at":"2026-02-03T22:26:49.586825-05:00","close_reason":"Fixed: Added validate_channel_member_update() trigger. Non-admins can only update last_read_at, mention_count, notifications_enabled. Added admin UPDATE policy for role changes.","dependencies":[{"issue_id":"app-5gx.23","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:24:48.0713323-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.24","title":"Fix R3-H4: direct_messages missing UPDATE policies","description":"No UPDATE policy means read_at cannot be set and messages cannot be soft-deleted. Need sender and recipient UPDATE policies.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:24:54.5445064-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:26:55.4465321-05:00","closed_at":"2026-02-03T22:26:55.4465321-05:00","close_reason":"Fixed: Added sender and recipient UPDATE policies on direct_messages. Added validate_dm_update() trigger to restrict recipients to read_at changes only.","dependencies":[{"issue_id":"app-5gx.24","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:24:54.5490182-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.25","title":"Fix R3-H5: is_dm_participant() unindexed md5 scan","description":"Storage RLS calls is_dm_participant() which computes md5 per row. Need functional index or materialized column.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:25:01.3134487-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:27:01.3280382-05:00","closed_at":"2026-02-03T22:27:01.3280382-05:00","close_reason":"Fixed: Added functional index idx_dm_conversation_hash on direct_messages using md5(LEAST/GREATEST) pattern to support is_dm_participant() lookups.","dependencies":[{"issue_id":"app-5gx.25","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:25:01.3192256-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.26","title":"Fix R4-C1/H1: m.role column does not exist - use is_staff()","description":"Chat architecture references m.role on members table but actual schema uses role_id + roles table. Replace all occurrences with is_staff() helper.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:29:22.6754807-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:30:45.5243471-05:00","closed_at":"2026-02-03T22:30:45.5243471-05:00","close_reason":"Fixed: Replaced all 5 occurrences of m.role IN ('owner','instructor') with is_staff() helper. The members table uses role_id + roles table, not a direct role column. is_staff() is SECURITY DEFINER and does the correct join.","dependencies":[{"issue_id":"app-5gx.26","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:29:22.6794029-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.3","title":"Check Supabase Realtime plan limits","description":"Research Supabase Realtime connection limits on our current plan. Confirm whether 50-200 simultaneous users are supported for Broadcast, Presence, and Postgres Changes without needing a plan upgrade. Document limits and any needed plan changes.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T21:39:04.9991288-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:03:05.7030248-05:00","closed_at":"2026-02-03T22:03:05.7030248-05:00","close_reason":"Pro plan sufficient for 200 users. Use Broadcast+DB persist pattern. Avoid Postgres Changes for chat. Cost: 0-150/mo.","dependencies":[{"issue_id":"app-5gx.3","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T21:39:05.0021212-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.4","title":"Decide notification strategy for chat","description":"Decide how members are notified of DMs and @mentions when not on the site. Options: in-app only, email (via Resend/Supabase Edge Functions), push notifications (requires service worker), or a notification platform (Novu, Knock). Decision affects the message processing pipeline and must be made before finalizing chat architecture.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T21:39:53.0054715-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:03:13.4284359-05:00","closed_at":"2026-02-03T22:03:13.4284359-05:00","close_reason":"Email via Edge Functions + Resend. Phased: in-app badges, immediate DM emails, batched mention digests. Free tier sufficient.","dependencies":[{"issue_id":"app-5gx.4","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T21:39:53.0113124-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.5","title":"Decide threading model","description":"Choose threading approach for chat. Options: (1) Simple reply_to_id (WhatsApp-style inline replies), (2) Dedicated thread channels (Discord-style, messages spawn sub-conversations), (3) Topic-based (Zulip-style, every message has channel + topic). Each has different schema, UI complexity, and UX. Consider what a 50-200 member dance community actually needs. Review how Cord, Valkyrie, and stream-chat-react implement threads.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T21:40:11.9732181-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:03:20.2294655-05:00","closed_at":"2026-02-03T22:03:20.2294655-05:00","close_reason":"Model A (reply_to_id) with reply_count enhancement. Zero schema changes. Migration path to threads documented.","dependencies":[{"issue_id":"app-5gx.5","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T21:40:11.9765175-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.6","title":"Design offline and catch-up behavior","description":"Define what happens when a member opens chat after being away. Key decisions: unread counts per channel, jump-to-first-unread, last-read marker (per-message vs per-channel), catch-up summary. Per-message read tracking is expensive at scale; per-channel last-read timestamp is simpler and likely sufficient for 50-200 users. Decision affects the read-tracking data model.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T21:40:29.4457028-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:03:27.5080353-05:00","closed_at":"2026-02-03T22:03:27.5080353-05:00","close_reason":"Per-channel last_read_at. Computed unread counts. Supabase Presence for online. Broadcast for typing. Schema and SQL functions documented.","dependencies":[{"issue_id":"app-5gx.6","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T21:40:29.449942-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.7","title":"Fix C1: sender_id vs auth.uid() FK mismatch in all RLS policies","description":"messages.sender_id references members(id) but RLS checks auth.uid() which returns auth.users.id. Must use get_current_member_id() helper or change FK to auth.users(id).","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:09:20.5810152-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:15:20.2260306-05:00","closed_at":"2026-02-03T22:15:20.2260306-05:00","close_reason":"Fixed: All RLS policies now use get_current_member_id() for members.id references and auth.uid() for auth.users.id references. Added identity note in section 2.5.","dependencies":[{"issue_id":"app-5gx.7","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:09:20.5837727-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.8","title":"Fix C2: Overlapping UPDATE policies allow unauthorized column changes","description":"Three UPDATE policies on messages table use OR semantics, allowing message owners to change any column, not just content or deleted_at. Need column-level validation trigger.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:09:26.6045191-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:15:26.0961183-05:00","closed_at":"2026-02-03T22:15:26.0961183-05:00","close_reason":"Fixed: Replaced 3 overlapping UPDATE policies with 2 clean policies + validate_message_update() BEFORE UPDATE trigger that enforces column-level restrictions.","dependencies":[{"issue_id":"app-5gx.8","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:09:26.6082988-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.9","title":"Fix C3: Storage RLS policies too permissive","description":"Storage policies only check authenticated status, not channel membership. Any user can upload/read any channel's files. Need path-based channel membership validation.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:09:32.6895853-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:15:32.146623-05:00","closed_at":"2026-02-03T22:15:32.146623-05:00","close_reason":"Fixed: Storage policies now validate channel membership via path-based extraction. Added DELETE policy for admins.","dependencies":[{"issue_id":"app-5gx.9","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:09:32.6935493-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg","title":"Phase 0 - Foundation","description":"Complete foundation phase: public pages, Supabase setup, auth system, member dashboard, admin basics, and initial Vercel deploy.","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:40:04.0280157-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:40:04.0280157-05:00"}
{"id":"app-ufg.1","title":"0A: Public Pages Content \u0026 Styling","description":"Populate all public placeholder pages (Home, About, Pricing, Contact) with real content and apply brand styling (red/coral #ef4444, gold/amber #f59e0b). Mobile-first responsive design.","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:40:36.0963566-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:40:36.0963566-05:00","dependencies":[{"issue_id":"app-ufg.1","depends_on_id":"app-ufg","type":"parent-child","created_at":"2026-02-03T18:40:36.1009196-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.1.1","title":"Build Landing Page","description":"Hero section with CTAs, class highlights grid, testimonials section, studio vibe imagery. Primary conversion: join link.","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:41:16.1244923-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:41:16.1244923-05:00","dependencies":[{"issue_id":"app-ufg.1.1","depends_on_id":"app-ufg.1","type":"parent-child","created_at":"2026-02-03T18:41:16.132575-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.1.2","title":"Build About Page","description":"Studio story, mission, instructor profiles with photos/bios, studio culture section.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:41:18.2432372-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:41:18.2432372-05:00","dependencies":[{"issue_id":"app-ufg.1.2","depends_on_id":"app-ufg.1","type":"parent-child","created_at":"2026-02-03T18:41:18.2906798-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.1.3","title":"Build Pricing Page","description":"Subscription plan cards (monthly, annual, drop-in) with feature comparison. CTA to /join.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:41:19.9215779-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:41:19.9215779-05:00","dependencies":[{"issue_id":"app-ufg.1.3","depends_on_id":"app-ufg.1","type":"parent-child","created_at":"2026-02-03T18:41:19.9662669-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.1.4","title":"Build Contact Page","description":"Contact form (Resend), Google Maps embed, studio address/hours/phone, social links.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:41:21.5921431-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:41:21.5921431-05:00","dependencies":[{"issue_id":"app-ufg.1.4","depends_on_id":"app-ufg.1","type":"parent-child","created_at":"2026-02-03T18:41:21.6020744-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.1.5","title":"Apply Brand Styling \u0026 Responsive Polish","description":"Tailwind theme config (colors, fonts), Navbar/Footer polish, responsive breakpoints (sm/md/lg/xl), shadcn/ui component setup.","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:41:23.1888924-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:41:23.1888924-05:00","dependencies":[{"issue_id":"app-ufg.1.5","depends_on_id":"app-ufg.1","type":"parent-child","created_at":"2026-02-03T18:41:23.2191151-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.2","title":"0B: Infrastructure Setup","description":"Create Supabase project, configure auth provider (magic link), run Phase 0 schema migration (roles, members, tags, member_tags, invite_codes), set up env vars, configure Supabase client helpers.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:41:46.2278285-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T19:56:59.8679451-05:00","closed_at":"2026-02-03T19:56:59.8679451-05:00","close_reason":"Infrastructure setup complete: Supabase project created and linked, env vars configured, Supabase CLI initialized. Remaining children (DB migration, client helpers) are standalone tasks.","dependencies":[{"issue_id":"app-ufg.2","depends_on_id":"app-ufg","type":"parent-child","created_at":"2026-02-03T18:41:46.2334694-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.2.1","title":"Create Supabase Project \u0026 Configure Auth","description":"Create Supabase project, enable Email auth provider with magic link, configure redirect URLs, set site URL.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:08.4047687-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T19:17:16.5760461-05:00","closed_at":"2026-02-03T19:17:16.5760461-05:00","close_reason":"Supabase project created (lvtmnxrufmjkmnohdfnq) under Salsa Ninja org, linked locally, .env.local populated with keys.","dependencies":[{"issue_id":"app-ufg.2.1","depends_on_id":"app-ufg.2","type":"parent-child","created_at":"2026-02-03T18:42:08.4109613-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.2.2","title":"Run Phase 0 Database Migration","description":"Create Phase 0 tables: roles (with seed data), members, tags, member_tags, invite_codes. Enums, indexes, RLS policies, helper functions, triggers, views per database-schema.md.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:09.3274128-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T20:14:44.2645457-05:00","closed_at":"2026-02-03T20:14:44.2645457-05:00","close_reason":"Full schema migrated to remote Supabase: 19 tables, enums, indexes, RLS policies, helper functions, triggers, views. Roles and channels seeded.","dependencies":[{"issue_id":"app-ufg.2.2","depends_on_id":"app-ufg.2","type":"parent-child","created_at":"2026-02-03T18:42:09.3524075-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.2.3","title":"Configure Environment Variables \u0026 Supabase Client","description":"Set up .env.local with SUPABASE_URL, ANON_KEY, SERVICE_ROLE_KEY, APP_URL. Create Supabase client helpers (server component client, client component client, middleware client) using @supabase/ssr.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:10.2854593-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T20:18:01.0951272-05:00","closed_at":"2026-02-03T20:18:01.0951272-05:00","close_reason":"Installed @supabase/ssr + @supabase/supabase-js. Created server client, browser client, and middleware client helpers. Next.js middleware wired up with session refresh and route protection.","dependencies":[{"issue_id":"app-ufg.2.3","depends_on_id":"app-ufg.2","type":"parent-child","created_at":"2026-02-03T18:42:10.2887346-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.2.4","title":"Authenticate \u0026 Configure Vercel + Supabase CLIs","description":"Login to Vercel and Supabase CLIs, link project, configure env vars.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:56:30.0157732-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T19:38:11.6412345-05:00","closed_at":"2026-02-03T19:38:11.6412345-05:00","close_reason":"Vercel CLI authenticated (farikh-3854), Supabase CLI authenticated, both tokens persist across sessions.","dependencies":[{"issue_id":"app-ufg.2.4","depends_on_id":"app-ufg.2","type":"parent-child","created_at":"2026-02-03T18:56:30.0213839-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.3","title":"0C: Auth System","description":"Build complete auth flow: invite-only registration (QR/referral link → email → magic link → profile setup), login, logout, session persistence, route protection middleware. Ref: auth-and-roles.md, membership/technical-design.md, membership/ui-wireframes.md.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:31.3256109-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T20:36:59.7986102-05:00","closed_at":"2026-02-03T20:36:59.7986102-05:00","close_reason":"Auth system complete: login, join flow (invite code → email → profile setup), callback handler, middleware, logout.","dependencies":[{"issue_id":"app-ufg.3","depends_on_id":"app-ufg","type":"parent-child","created_at":"2026-02-03T18:42:31.3360561-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.3.1","title":"Build Join/Registration Flow","description":"Multi-step invite-only registration: /join (enter invite code or referral link) → /join/verify (enter email, send magic link, show 'check email' screen) → /join/profile (name, avatar, dance experience) → /join/plan (subscription selection, skip for now). Validate invite codes against invite_codes table.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:52.1132775-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T20:36:40.882404-05:00","closed_at":"2026-02-03T20:36:40.882404-05:00","close_reason":"Join flow: invite code validation → email input → magic link sent. Multi-step UI with progress indicator.","dependencies":[{"issue_id":"app-ufg.3.1","depends_on_id":"app-ufg.3","type":"parent-child","created_at":"2026-02-03T18:42:52.1166542-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.3.2","title":"Build Login Page","description":"Email input → magic link sent → 'check your email' confirmation. Returning user flow. /login route.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:52.8112346-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T20:36:28.242137-05:00","closed_at":"2026-02-03T20:36:28.242137-05:00","close_reason":"Login page with magic link, check-email confirmation state, link to /join.","dependencies":[{"issue_id":"app-ufg.3.2","depends_on_id":"app-ufg.3","type":"parent-child","created_at":"2026-02-03T18:42:52.8276017-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.3.3","title":"Build Auth Callback Handler","description":"C:/Program Files/Git/auth/callback/route.ts — Handle magic link redirect, exchange code for session, redirect to dashboard (existing member) or /join/profile (new member).","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:53.5331365-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T20:36:34.7296977-05:00","closed_at":"2026-02-03T20:36:34.7296977-05:00","close_reason":"Auth callback handler: exchanges code for session, routes new users to /join/profile, existing members to /dashboard.","dependencies":[{"issue_id":"app-ufg.3.3","depends_on_id":"app-ufg.3","type":"parent-child","created_at":"2026-02-03T18:42:53.5514095-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.3.4","title":"Build Auth Middleware","description":"middleware.ts — Supabase session check, protect (member) and (admin) route groups, role-based access per roleRoutes config, redirect unauthenticated to /login.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:54.3199273-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T20:36:47.4315552-05:00","closed_at":"2026-02-03T20:36:47.4315552-05:00","close_reason":"Middleware with Supabase session refresh, public route allowlist, redirect to /login for unauthenticated users.","dependencies":[{"issue_id":"app-ufg.3.4","depends_on_id":"app-ufg.3","type":"parent-child","created_at":"2026-02-03T18:42:54.3369543-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.3.5","title":"Build Logout","description":"Logout API route + UI button. Clear session, redirect to home.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:55.0892192-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T20:36:53.576417-05:00","closed_at":"2026-02-03T20:36:53.576417-05:00","close_reason":"Logout button component on dashboard, clears session and redirects to home.","dependencies":[{"issue_id":"app-ufg.3.5","depends_on_id":"app-ufg.3","type":"parent-child","created_at":"2026-02-03T18:42:55.1070602-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.4","title":"0D: Member Dashboard \u0026 Profile","description":"Build authenticated member pages: dashboard (upcoming events placeholder, announcements placeholder, quick links), profile view/edit, settings page. Role-based navigation (show/hide nav items based on role).","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:08.9294275-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:08.9294275-05:00","dependencies":[{"issue_id":"app-ufg.4","depends_on_id":"app-ufg","type":"parent-child","created_at":"2026-02-03T18:43:08.9315533-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.4.1","title":"Build Member Dashboard","description":"C:/Program Files/Git/dashboard — Welcome message with member name, upcoming events card (placeholder), recent announcements card (placeholder), quick action links (calendar, chat, videos based on role). Fetch current member profile from Supabase.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:27.086881-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:27.086881-05:00","dependencies":[{"issue_id":"app-ufg.4.1","depends_on_id":"app-ufg.4","type":"parent-child","created_at":"2026-02-03T18:43:27.0893245-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.4.2","title":"Build Profile View \u0026 Edit","description":"C:/Program Files/Git/profile — View own profile, edit form (name, display name, avatar upload, phone, bio, dance experience, preferred language). View other member profiles (limited info).","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:27.5967489-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:27.5967489-05:00","dependencies":[{"issue_id":"app-ufg.4.2","depends_on_id":"app-ufg.4","type":"parent-child","created_at":"2026-02-03T18:43:27.5988566-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.4.3","title":"Build Settings Page","description":"C:/Program Files/Git/settings — Account settings (email display, language preference), subscription status display, logout button.","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:28.1794016-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:28.1794016-05:00","dependencies":[{"issue_id":"app-ufg.4.3","depends_on_id":"app-ufg.4","type":"parent-child","created_at":"2026-02-03T18:43:28.1967951-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.4.4","title":"Build Role-Based Navigation","description":"Update Navbar for authenticated users: show/hide menu items based on role permissions. Member nav (Dashboard, Calendar, Chat, Videos, Settings). Admin nav (+ Admin link). Guest nav (limited). Mobile hamburger menu.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:28.6772474-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:28.6772474-05:00","dependencies":[{"issue_id":"app-ufg.4.4","depends_on_id":"app-ufg.4","type":"parent-child","created_at":"2026-02-03T18:43:28.6794087-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.5","title":"0E: Admin Basics","description":"Build admin shell: dashboard with member count/stats, members list with search, invite code generation page. Owner-only access.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:41.3891254-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:41.3891254-05:00","dependencies":[{"issue_id":"app-ufg.5","depends_on_id":"app-ufg","type":"parent-child","created_at":"2026-02-03T18:43:41.3908159-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.5.1","title":"Build Admin Dashboard Shell","description":"C:/Program Files/Git/admin — Stats cards (total members, active subscriptions, pending invites). Quick links to member management and invites. Owner role required.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:56.6765616-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:56.6765616-05:00","dependencies":[{"issue_id":"app-ufg.5.1","depends_on_id":"app-ufg.5","type":"parent-child","created_at":"2026-02-03T18:43:56.6788117-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.5.2","title":"Build Admin Members List","description":"C:/Program Files/Git/admin/members — Table of all members with role, subscription status, join date. Search/filter. Click to view details. Manual role assignment (US-OWN-03).","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:57.306912-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:57.306912-05:00","dependencies":[{"issue_id":"app-ufg.5.2","depends_on_id":"app-ufg.5","type":"parent-child","created_at":"2026-02-03T18:43:57.3226507-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.5.3","title":"Build Invite Code Management","description":"C:/Program Files/Git/admin/invites — Generate new invite codes (single or multi-use), set expiry, view active/expired codes, copy link, generate QR code. Tracks used_count.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:57.9749023-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:57.9749023-05:00","dependencies":[{"issue_id":"app-ufg.5.3","depends_on_id":"app-ufg.5","type":"parent-child","created_at":"2026-02-03T18:43:57.999932-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.6","title":"0F: Initial Deploy","description":"Connect GitHub repo to Vercel, configure env vars on Vercel, domain setup, smoke test all routes (public + auth + member + admin).","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:44:11.4528383-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T19:57:06.5519871-05:00","closed_at":"2026-02-03T19:57:06.5519871-05:00","close_reason":"Initial deploy complete: GitHub repo (farikh/salsa-ninja), Vercel auto-deploy from master, live at salsa-ninja-dev.vercel.app. Domain setup remaining as standalone task.","dependencies":[{"issue_id":"app-ufg.6","depends_on_id":"app-ufg","type":"parent-child","created_at":"2026-02-03T18:44:11.4551817-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.6.1","title":"Connect GitHub \u0026 Deploy to Vercel","description":"Push repo to GitHub, connect to Vercel, configure environment variables (Supabase URL/keys, APP_URL), set up automatic deployments from main branch.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:44:29.0573825-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T19:38:17.6004668-05:00","closed_at":"2026-02-03T19:38:17.6004668-05:00","close_reason":"Vercel project salsa-ninja created, connected to GitHub repo farikh/salsa-ninja, root directory set to app/, auto-deploy on push enabled. First deploy successful.","dependencies":[{"issue_id":"app-ufg.6.1","depends_on_id":"app-ufg.6","type":"parent-child","created_at":"2026-02-03T18:44:29.0630417-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.6.2","title":"Domain Setup \u0026 Smoke Test","description":"Configure custom domain on Vercel, verify DNS, smoke test all routes: public pages load, auth flow works end-to-end, member dashboard accessible after login, admin pages restricted to owner.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:44:30.2072427-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:44:30.2072427-05:00","dependencies":[{"issue_id":"app-ufg.6.2","depends_on_id":"app-ufg.6","type":"parent-child","created_at":"2026-02-03T18:44:30.2282508-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.6.3","title":"Initialize Git \u0026 Push to GitHub","description":"Git init at project root, create .gitignore, create GitHub repo via gh CLI, initial commit and push.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:56:10.8383669-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T19:12:37.2230947-05:00","closed_at":"2026-02-03T19:12:37.2230947-05:00","close_reason":"Repo created at github.com/farikh/salsa-ninja (private), initial commit pushed to master.","dependencies":[{"issue_id":"app-ufg.6.3","depends_on_id":"app-ufg.6","type":"parent-child","created_at":"2026-02-03T18:56:10.8434114-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-xpo","title":"Resolve chat open design questions","description":"5 open questions from chat architecture review that need answers before or during implementation. See docs/specs/features/chat-architecture.md section 11.","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:44:16.5587989-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:44:16.5587989-05:00"}
{"id":"app-xpo.1","title":"Decide message content node types","description":"Do we need bullet, code, link nodes beyond p and mention? Determines editor complexity in Phase 1.","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:44:55.7125868-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:44:55.7125868-05:00","dependencies":[{"issue_id":"app-xpo.1","depends_on_id":"app-xpo","type":"parent-child","created_at":"2026-02-03T22:44:55.7186898-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-xpo.2","title":"Choose emoji picker library","description":"emoji-mart (full, larger bundle) vs curated subset (smaller, limited). Bundle size vs completeness tradeoff.","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:45:02.51107-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:45:02.51107-05:00","dependencies":[{"issue_id":"app-xpo.2","depends_on_id":"app-xpo","type":"parent-child","created_at":"2026-02-03T22:45:02.5170801-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-xpo.3","title":"Decide DM conversation grouping pattern","description":"LEAST/GREATEST index pattern (current) vs separate conversations table. Schema decision needed before Phase 2.","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:45:09.6920614-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:45:09.6920614-05:00","dependencies":[{"issue_id":"app-xpo.3","depends_on_id":"app-xpo","type":"parent-child","created_at":"2026-02-03T22:45:09.6996468-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-xpo.4","title":"Decide image compression strategy","description":"Client-side before upload (faster display, more client code) vs Edge Function after upload (simpler client, async processing). Affects UX and storage costs.","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:45:16.1545157-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:45:16.1545157-05:00","dependencies":[{"issue_id":"app-xpo.4","depends_on_id":"app-xpo","type":"parent-child","created_at":"2026-02-03T22:45:16.1642484-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-xpo.5","title":"Decide mention_count increment mechanism","description":"DB trigger on messages INSERT (reliable, adds INSERT overhead) vs Edge Function (async, could miss). Needs answer before Phase 3.","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:45:22.479656-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:45:22.479656-05:00","dependencies":[{"issue_id":"app-xpo.5","depends_on_id":"app-xpo","type":"parent-child","created_at":"2026-02-03T22:45:22.4831299-05:00","created_by":"Tafari Higgs"}]}
