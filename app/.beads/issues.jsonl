{"id":"app-2gw","title":"Private sessions page UX changes","description":"Move pricing below calendar, conditional auth display, redirect to booking after login","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T12:07:40.1219304-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T12:13:52.8477612-05:00","closed_at":"2026-02-04T12:13:52.8477612-05:00","close_reason":"All 4 UX changes implemented: public route, conditional auth UI, login redirect, pricing section. Review round 1: zero CRITICAL/HIGH issues. Build passes."}
{"id":"app-2gw.1","title":"Add /private-sessions to public routes","description":"Middleware change to allow logged-out access","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T12:08:52.2812812-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T12:09:42.2135094-05:00","closed_at":"2026-02-04T12:09:42.2135094-05:00","close_reason":"Added /private-sessions to publicRoutes in middleware.ts","dependencies":[{"issue_id":"app-2gw.1","depends_on_id":"app-2gw","type":"parent-child","created_at":"2026-02-04T12:08:52.2855977-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2gw.2","title":"Conditional booking UI for auth state","description":"Show calendar for logged-in, CTA for logged-out","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T12:08:58.9458957-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T12:09:48.5534518-05:00","closed_at":"2026-02-04T12:09:48.5534518-05:00","close_reason":"page.tsx checks auth, shows CalendarView for logged-in, CTA for logged-out","dependencies":[{"issue_id":"app-2gw.2","depends_on_id":"app-2gw","type":"parent-child","created_at":"2026-02-04T12:08:58.9504198-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2gw.3","title":"Redirect to /private-sessions after login","description":"Auth callback and profile setup redirect changes","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T12:09:05.4389404-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T12:09:54.6113455-05:00","closed_at":"2026-02-04T12:09:54.6113455-05:00","close_reason":"Changed default redirect in auth/callback and join/profile from /dashboard to /private-sessions","dependencies":[{"issue_id":"app-2gw.3","depends_on_id":"app-2gw","type":"parent-child","created_at":"2026-02-04T12:09:05.4421793-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2gw.4","title":"Add pricing section below calendar","description":"Pricing cards from old page added below booking section","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T12:09:11.9204331-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T12:10:00.7654902-05:00","closed_at":"2026-02-04T12:10:00.7654902-05:00","close_reason":"Added pricing cards (5hr 75, 10hr 50) below the calendar section","dependencies":[{"issue_id":"app-2gw.4","depends_on_id":"app-2gw","type":"parent-child","created_at":"2026-02-04T12:09:11.9232458-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2r1","title":"Implement private lesson booking feature","description":"Full implementation of private lesson booking per design doc. Includes database migration, API routes, React hooks, calendar UI with mobile-first responsive design, real-time updates, and booking messaging.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:16:14.1125223-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T11:01:58.2930224-05:00","closed_at":"2026-02-04T11:01:58.2930224-05:00","close_reason":"Private lesson booking feature fully implemented. 8 child beads completed: DB migration, shadcn setup, types/service client, glow CSS, API routes (14), hooks (3), UI components (10). Code review: 2 rounds, 6 issues fixed (1 CRITICAL, 5 HIGH), round 2 clean. Build passes zero errors."}
{"id":"app-2r1.1","title":"Database migration: booking tables, enums, functions, triggers, RLS","description":"Create SQL migration with: booking_status enum, instructor_availability, availability_overrides, private_lesson_bookings (with GIST exclusion), booking_messages, booking_message_reads tables. Plus get_available_slots, create_booking, confirm_booking, cancel_booking, decline_booking functions. Status transition trigger. RLS policies for all tables.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:16:53.0610195-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:22:43.2391108-05:00","closed_at":"2026-02-04T10:22:43.2391108-05:00","close_reason":"Created migration with 5 tables, booking_status enum, 5 RPC functions, status transition trigger, updated_at triggers, and RLS policies for all tables","dependencies":[{"issue_id":"app-2r1.1","depends_on_id":"app-2r1","type":"parent-child","created_at":"2026-02-04T10:16:53.0675371-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2r1.2","title":"Initialize shadcn/ui and add required components","description":"Init shadcn/ui for Tailwind v4 + Next.js. Add: Calendar, Card, Dialog, Drawer, Sheet, ToggleGroup, Avatar, Badge, ScrollArea, Skeleton, Textarea, Button","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:16:59.445551-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:28:02.6989992-05:00","closed_at":"2026-02-04T10:28:02.6989992-05:00","close_reason":"Initialized shadcn/ui with all required components: Calendar, Card, Dialog, Drawer, Sheet, ToggleGroup, Toggle, Avatar, Badge, ScrollArea, Skeleton, Textarea, Button. Restored project custom colors in globals.css. Build passes successfully.","dependencies":[{"issue_id":"app-2r1.2","depends_on_id":"app-2r1","type":"parent-child","created_at":"2026-02-04T10:16:59.4498107-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2r1.3","title":"TypeScript types and service role client","description":"Create booking TypeScript types (BookingStatus, InstructorAvailability, AvailabilityOverride, PrivateLessonBooking, BookingMessage, BookingMessageRead, CalendarState, etc). Create service role Supabase client for cron job.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:17:05.8958664-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:23:01.4886956-05:00","closed_at":"2026-02-04T10:23:01.4886956-05:00","close_reason":"Created TypeScript types for all booking entities and calendar state, plus service role Supabase client","dependencies":[{"issue_id":"app-2r1.3","depends_on_id":"app-2r1","type":"parent-child","created_at":"2026-02-04T10:17:05.8991321-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2r1.4","title":"Add glow animation CSS","description":"Add glow keyframe animation to globals.css per design doc. Applied with motion-safe:animate-glow.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:17:12.2194447-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:22:25.8027218-05:00","closed_at":"2026-02-04T10:22:25.8027218-05:00","close_reason":"Added glow keyframe animation to globals.css for unread booking message indicators","dependencies":[{"issue_id":"app-2r1.4","depends_on_id":"app-2r1","type":"parent-child","created_at":"2026-02-04T10:17:12.2238747-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2r1.5","title":"Build API routes for private lesson booking","description":"All API endpoints: GET/POST/DELETE /api/availability, POST /api/availability/overrides, GET /api/slots/:instructorId, POST /api/bookings, POST /api/bookings/:id/confirm|decline|cancel, GET /api/bookings, GET/POST /api/bookings/:id/messages, GET /api/bookings/unread, GET /api/instructors, GET /api/cron/expire-bookings","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:17:18.5775888-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:34:45.332782-05:00","closed_at":"2026-02-04T10:34:45.332782-05:00","close_reason":"Built all API routes: instructors, availability CRUD, slots RPC, bookings CRUD with confirm/decline/cancel RPCs, messages with unread tracking, cron job for auto-expiry","dependencies":[{"issue_id":"app-2r1.5","depends_on_id":"app-2r1","type":"parent-child","created_at":"2026-02-04T10:17:18.5817511-05:00","created_by":"Tafari Higgs"},{"issue_id":"app-2r1.5","depends_on_id":"app-2r1.1","type":"blocks","created_at":"2026-02-04T10:18:09.3369994-05:00","created_by":"Tafari Higgs"},{"issue_id":"app-2r1.5","depends_on_id":"app-2r1.3","type":"blocks","created_at":"2026-02-04T10:18:15.1452594-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2r1.6","title":"Build React hooks for calendar state and realtime","description":"useCalendarState (useReducer), useCalendarRealtime (Supabase Realtime subscriptions), useBookingMessages (message thread realtime)","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:17:24.8924304-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:33:07.5069142-05:00","closed_at":"2026-02-04T10:33:07.5069142-05:00","close_reason":"Built 3 React hooks: useCalendarState (useReducer), useCalendarRealtime (Supabase subscriptions for bookings + messages), useBookingMessages (fetch/send/add)","dependencies":[{"issue_id":"app-2r1.6","depends_on_id":"app-2r1","type":"parent-child","created_at":"2026-02-04T10:17:24.8963378-05:00","created_by":"Tafari Higgs"},{"issue_id":"app-2r1.6","depends_on_id":"app-2r1.3","type":"blocks","created_at":"2026-02-04T10:18:20.9365117-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2r1.7","title":"Build calendar page and UI components","description":"Replace existing private-sessions page with booking calendar. Components: CalendarView, InstructorSelector, MonthCalendar, TimeSlotPanel, TimeSlotDrawer (mobile), TimeSlotSheet (desktop), MessageBanner, BookingDetailSheet, BookingConfirmDialog. Mobile-first responsive design. Server Component page.tsx with client CalendarView.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:17:30.9474339-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:48:40.0647964-05:00","closed_at":"2026-02-04T10:48:40.0647964-05:00","close_reason":"Built all 10 UI components: page.tsx (server component), CalendarView, InstructorSelector, MonthCalendar, TimeSlotPanel, TimeSlotDrawer, TimeSlotSheet, MessageBanner, BookingDetailSheet, BookingConfirmDialog. All mobile-first responsive. Build passes.","dependencies":[{"issue_id":"app-2r1.7","depends_on_id":"app-2r1","type":"parent-child","created_at":"2026-02-04T10:17:30.9512945-05:00","created_by":"Tafari Higgs"},{"issue_id":"app-2r1.7","depends_on_id":"app-2r1.2","type":"blocks","created_at":"2026-02-04T10:18:26.9196912-05:00","created_by":"Tafari Higgs"},{"issue_id":"app-2r1.7","depends_on_id":"app-2r1.5","type":"blocks","created_at":"2026-02-04T10:18:32.9298053-05:00","created_by":"Tafari Higgs"},{"issue_id":"app-2r1.7","depends_on_id":"app-2r1.6","type":"blocks","created_at":"2026-02-04T10:18:38.7754427-05:00","created_by":"Tafari Higgs"},{"issue_id":"app-2r1.7","depends_on_id":"app-2r1.4","type":"blocks","created_at":"2026-02-04T10:18:44.644865-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2r1.7.1","title":"[CRITICAL] page.tsx queries roles.role instead of roles.name","description":"Server component query uses wrong column name, returns no instructors","status":"closed","priority":0,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:53:31.5449514-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:59:11.75315-05:00","closed_at":"2026-02-04T10:59:11.75315-05:00","close_reason":"Fixed roles.role to roles.name in page.tsx query, also removed constraining max-width wrapper","dependencies":[{"issue_id":"app-2r1.7.1","depends_on_id":"app-2r1.7","type":"parent-child","created_at":"2026-02-04T10:53:31.5465423-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2r1.7.2","title":"[HIGH] Missing Confirm/Decline buttons for instructors","description":"BookingDetailSheet has no confirm/decline buttons for instructor workflow","status":"closed","priority":0,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:53:37.2465006-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:59:17.6204191-05:00","closed_at":"2026-02-04T10:59:17.6204191-05:00","close_reason":"Added Confirm/Decline buttons with handlers in BookingDetailSheet for instructor workflow","dependencies":[{"issue_id":"app-2r1.7.2","depends_on_id":"app-2r1.7","type":"parent-child","created_at":"2026-02-04T10:53:37.2483416-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2r1.7.3","title":"[HIGH] Auto-decline too broad on availability delete","description":"Deleting availability declines ALL pending bookings, not just affected slots","status":"closed","priority":0,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:53:42.8977911-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:59:23.3928148-05:00","closed_at":"2026-02-04T10:59:23.3928148-05:00","close_reason":"Filtered auto-decline to only bookings matching deleted availability day-of-week and time overlap","dependencies":[{"issue_id":"app-2r1.7.3","depends_on_id":"app-2r1.7","type":"parent-child","created_at":"2026-02-04T10:53:42.8993663-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2r1.7.4","title":"[HIGH] DELETE events corrupt Realtime state","description":"useCalendarRealtime passes empty payload.new for DELETE events to BOOKING_CHANGED","status":"closed","priority":0,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:53:48.5846047-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:59:29.1876702-05:00","closed_at":"2026-02-04T10:59:29.1876702-05:00","close_reason":"Added DELETE event guard in useCalendarRealtime to skip empty payload.new","dependencies":[{"issue_id":"app-2r1.7.4","depends_on_id":"app-2r1.7","type":"parent-child","created_at":"2026-02-04T10:53:48.586312-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2r1.7.5","title":"[HIGH] canCancel applies 24hr rule to instructors","description":"Should only apply to members; instructors can cancel any time","status":"closed","priority":0,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:53:54.3109662-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:59:35.1461725-05:00","closed_at":"2026-02-04T10:59:35.1461725-05:00","close_reason":"Updated canCancel to accept currentMemberId, skip 24hr rule for instructors","dependencies":[{"issue_id":"app-2r1.7.5","depends_on_id":"app-2r1.7","type":"parent-child","created_at":"2026-02-04T10:53:54.3125819-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2r1.7.6","title":"[HIGH] TimeSlotPanel only shows member's own bookings","description":"Instructors can't see student booking requests on their slots","status":"closed","priority":0,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:53:59.9566945-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:59:41.064481-05:00","closed_at":"2026-02-04T10:59:41.064481-05:00","close_reason":"Changed userBookings filter to include both member_id and instructor_id matches, also fixed bookedDates in CalendarView","dependencies":[{"issue_id":"app-2r1.7.6","depends_on_id":"app-2r1.7","type":"parent-child","created_at":"2026-02-04T10:53:59.9588734-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2r1.8","title":"Build cron job for booking auto-expiry","description":"Vercel cron route at /api/cron/expire-bookings. Expires pending bookings older than 4 hours. Secured via CRON_SECRET.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:17:37.5826948-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:34:50.9888737-05:00","closed_at":"2026-02-04T10:34:50.9888737-05:00","close_reason":"Built cron endpoint at /api/cron/expire-bookings with CRON_SECRET auth, vercel.json cron config","dependencies":[{"issue_id":"app-2r1.8","depends_on_id":"app-2r1","type":"parent-child","created_at":"2026-02-04T10:17:37.5946869-05:00","created_by":"Tafari Higgs"},{"issue_id":"app-2r1.8","depends_on_id":"app-2r1.1","type":"blocks","created_at":"2026-02-04T10:18:50.4495403-05:00","created_by":"Tafari Higgs"},{"issue_id":"app-2r1.8","depends_on_id":"app-2r1.3","type":"blocks","created_at":"2026-02-04T10:18:56.269953-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2u2","title":"Private lesson booking - core flow design","description":"7-phase feature design for private lesson booking: instructor availability, member booking with instructor confirmation, per-booking messaging, reactive calendar UI","status":"closed","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T09:00:21.5690224-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T09:23:22.7720753-05:00","closed_at":"2026-02-04T09:23:22.7720753-05:00","close_reason":"Private lesson booking design complete. 3 review rounds, all CRITICAL/HIGH resolved."}
{"id":"app-2u2.1","title":"Research: reactive calendar UI","description":"shadcn/ui Calendar + react-day-picker customization, glow animations, Supabase Realtime, instructor selector","status":"closed","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T09:07:04.650819-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T09:07:39.8333417-05:00","closed_at":"2026-02-04T09:07:39.8333417-05:00","close_reason":"Research complete","dependencies":[{"issue_id":"app-2u2.1","depends_on_id":"app-2u2","type":"parent-child","created_at":"2026-02-04T09:07:04.6531039-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2u2.2","title":"Research: booking messaging","description":"Dedicated booking_messages table, unread tracking via last_read_at, Realtime subscription, Sheet UI","status":"closed","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T09:07:10.6588196-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T09:07:45.5926514-05:00","closed_at":"2026-02-04T09:07:45.5926514-05:00","close_reason":"Research complete","dependencies":[{"issue_id":"app-2u2.2","depends_on_id":"app-2u2","type":"parent-child","created_at":"2026-02-04T09:07:10.6630837-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2u2.3","title":"Research: booking confirmation flow","description":"State machine, race conditions, GIST exclusion, 24hr cancellation, notification pattern","status":"closed","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T09:07:16.6837149-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T09:07:51.5396838-05:00","closed_at":"2026-02-04T09:07:51.5396838-05:00","close_reason":"Research complete","dependencies":[{"issue_id":"app-2u2.3","depends_on_id":"app-2u2","type":"parent-child","created_at":"2026-02-04T09:07:16.6860579-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2u2.4","title":"Write 7-phase feature design document","description":"Private lesson booking core flow - all 7 phases of feature design process","status":"closed","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T09:08:26.5343-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T09:17:29.5026458-05:00","closed_at":"2026-02-04T09:17:29.5026458-05:00","close_reason":"Design document written","dependencies":[{"issue_id":"app-2u2.4","depends_on_id":"app-2u2","type":"parent-child","created_at":"2026-02-04T09:08:26.5372124-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2u2.5","title":"Review round 1: private lesson booking design","description":"Cross-reference design against schema, auth, requirements. Check SQL correctness, RLS, state machine, edge cases.","status":"closed","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T09:11:48.6272195-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T09:17:35.096335-05:00","closed_at":"2026-02-04T09:17:35.096335-05:00","close_reason":"Round 1 complete: 3C+6H+8M+5L found, all C+H fixed","dependencies":[{"issue_id":"app-2u2.5","depends_on_id":"app-2u2","type":"parent-child","created_at":"2026-02-04T09:11:48.6289758-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2u2.6","title":"Review round 2: private lesson booking design","description":"Round 2: 9/9 round 1 fixes PASS. 1C+3H found and fixed.","status":"closed","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T09:21:06.4021377-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T09:21:12.1866312-05:00","closed_at":"2026-02-04T09:21:12.1866312-05:00","close_reason":"Round 2: 1C+3H+4M+4L found, all C+H fixed","dependencies":[{"issue_id":"app-2u2.6","depends_on_id":"app-2u2","type":"parent-child","created_at":"2026-02-04T09:21:06.4042546-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-2u2.7","title":"Review round 3: private lesson booking design","description":"Round 3: 5/5 round 2 fixes PASS. 1H found and fixed (transition trigger).","status":"closed","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T09:23:11.3653845-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T09:23:17.000729-05:00","closed_at":"2026-02-04T09:23:17.000729-05:00","close_reason":"Round 3: 1H fixed, 0 new CRITICAL/HIGH. Review complete.","dependencies":[{"issue_id":"app-2u2.7","depends_on_id":"app-2u2","type":"parent-child","created_at":"2026-02-04T09:23:11.3682372-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-47y","title":"UR-001: Private Lesson Scheduling & Booking System Overhaul","description":"Complete overhaul of private lessons: weekly/monthly availability scheduling, booking confirmation workflow, student-instructor messaging, dashboard integration","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T11:08:56.4317092-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-06T11:08:56.4317092-05:00"}
{"id":"app-5cn","title":"Design calendar & scheduling architecture","description":"Comprehensive architecture for calendar/scheduling spanning roadmap phases 0,1,2,5. Covers: class schedule management, recurring events (RRULE), private lesson booking, instructor availability, Google Calendar sync, RSVP/capacity/waitlist, attendance tracking, QR check-in, event payments, iCal export. Must integrate with existing events/event_rsvps/event_series schema.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:22:17.6288587-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:59:32.5693541-05:00","closed_at":"2026-02-03T23:59:32.5693541-05:00","close_reason":"Calendar & scheduling architecture complete. 3 review rounds, all CRITICAL/HIGH resolved. Deliverables: calendar-architecture.md, calendar-research-findings.md"}
{"id":"app-5cn.1","title":"Research React calendar UI libraries","description":"Find calendar UI components for Next.js/React/shadcn. Evaluate: FullCalendar, react-big-calendar, @schedule-x, shadcn calendar patterns. Need month/week/day/list views, event rendering, drag-drop, mobile responsiveness.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:22:47.0408748-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:42:37.5648663-05:00","closed_at":"2026-02-03T23:42:37.5648663-05:00","close_reason":"Research complete","dependencies":[{"issue_id":"app-5cn.1","depends_on_id":"app-5cn","type":"parent-child","created_at":"2026-02-03T23:22:47.0435465-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.10","title":"Calendar deferred questions","description":"5 open design decisions from calendar-architecture.md Section 15","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:58:16.8454495-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:58:16.8454495-05:00","dependencies":[{"issue_id":"app-5cn.10","depends_on_id":"app-5cn","type":"parent-child","created_at":"2026-02-03T23:58:16.847307-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.10.1","title":"Community event recurrence?","description":"Should community-submitted events support recurring patterns? Recommendation: No","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:58:35.8077816-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:58:35.8077816-05:00","dependencies":[{"issue_id":"app-5cn.10.1","depends_on_id":"app-5cn.10","type":"parent-child","created_at":"2026-02-03T23:58:35.8104386-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.10.2","title":"Private lesson cancellation policy","description":"Time-based (48h/24h) or always refundable? Needs studio owner confirmation","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:58:41.4548703-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:58:41.4548703-05:00","dependencies":[{"issue_id":"app-5cn.10.2","depends_on_id":"app-5cn.10","type":"parent-child","created_at":"2026-02-03T23:58:41.4567847-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.10.3","title":"Studio-wide QR rotation","description":"Daily HMAC rotation vs permanent? Recommendation: Daily rotation","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:58:47.0904518-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:58:47.0904518-05:00","dependencies":[{"issue_id":"app-5cn.10.3","depends_on_id":"app-5cn.10","type":"parent-child","created_at":"2026-02-03T23:58:47.0929555-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.10.4","title":"Instructor all-day blocking","description":"Should instructors block full days? Recommendation: Yes via availability_overrides","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:58:52.6985658-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:58:52.6985658-05:00","dependencies":[{"issue_id":"app-5cn.10.4","depends_on_id":"app-5cn.10","type":"parent-child","created_at":"2026-02-03T23:58:52.701125-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.10.5","title":"Back-to-back class check-in overlap","description":"How to handle check-in when two classes overlap in time window? Show picker","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:58:58.3381993-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:58:58.3381993-05:00","dependencies":[{"issue_id":"app-5cn.10.5","depends_on_id":"app-5cn.10","type":"parent-child","created_at":"2026-02-03T23:58:58.3412538-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.2","title":"Research RRULE/recurring event patterns","description":"Find libraries for iCal RRULE parsing/generation in JS/TS. Evaluate: rrule.js, date-fns-rrule. Study how FullCalendar and Google Calendar handle recurring events. Schema patterns for series vs instances.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:22:52.8964736-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:42:43.0861733-05:00","closed_at":"2026-02-03T23:42:43.0861733-05:00","close_reason":"Research complete","dependencies":[{"issue_id":"app-5cn.2","depends_on_id":"app-5cn","type":"parent-child","created_at":"2026-02-03T23:22:52.8986331-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.3","title":"Research private lesson booking systems","description":"Find open-source booking/appointment scheduling for Next.js/React. Evaluate: Cal.com (open-source), Calendso, booking patterns. Need: instructor availability slots, booking flow, Google Calendar push.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:22:58.9724154-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:42:48.5933437-05:00","closed_at":"2026-02-03T23:42:48.5933437-05:00","close_reason":"Research complete","dependencies":[{"issue_id":"app-5cn.3","depends_on_id":"app-5cn","type":"parent-child","created_at":"2026-02-03T23:22:58.9762022-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.4","title":"Research Google Calendar integration","description":"How to push events to Google Calendar from Next.js. Google Calendar API v3, service accounts vs OAuth, two-way sync patterns. Study how Cal.com handles this.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:23:05.3082318-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:42:54.0989716-05:00","closed_at":"2026-02-03T23:42:54.0989716-05:00","close_reason":"Research complete","dependencies":[{"issue_id":"app-5cn.4","depends_on_id":"app-5cn","type":"parent-child","created_at":"2026-02-03T23:23:05.3105713-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.5","title":"Research RSVP/waitlist/capacity patterns","description":"Database patterns for atomic RSVP with capacity limits, waitlist auto-promotion, race condition handling. Study event ticketing schemas from open-source projects.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:23:11.1160535-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:42:59.5959547-05:00","closed_at":"2026-02-03T23:42:59.5959547-05:00","close_reason":"Research complete","dependencies":[{"issue_id":"app-5cn.5","depends_on_id":"app-5cn","type":"parent-child","created_at":"2026-02-03T23:23:11.1188153-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.6","title":"Research QR check-in and attendance tracking","description":"QR code generation for events, scanning flow on mobile web, attendance marking patterns. Libraries: qrcode.react, html5-qrcode scanner.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:23:16.9168967-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:43:05.0989738-05:00","closed_at":"2026-02-03T23:43:05.0989738-05:00","close_reason":"Research complete","dependencies":[{"issue_id":"app-5cn.6","depends_on_id":"app-5cn","type":"parent-child","created_at":"2026-02-03T23:23:16.9190783-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.7","title":"Review round 1: calendar-architecture.md","description":"Iterative review of calendar architecture document. Reviewer checks schema correctness, RLS gaps, FK mismatches, consistency with existing specs.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:43:21.7285933-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:51:25.5336835-05:00","closed_at":"2026-02-03T23:51:25.5336835-05:00","close_reason":"Review round 1 complete. 1 CRITICAL + 7 HIGH issues found and fixed.","dependencies":[{"issue_id":"app-5cn.7","depends_on_id":"app-5cn","type":"parent-child","created_at":"2026-02-03T23:43:21.7303289-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.7.1","title":"[CRITICAL] promote_from_waitlist uses nonexistent 'cancelled' enum value","description":"The trigger checks 'cancelled' but rsvp_status only has going/maybe/not_going/waitlist/pending_payment","status":"closed","priority":0,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:47:22.0670615-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:50:29.1074306-05:00","closed_at":"2026-02-03T23:50:29.1074306-05:00","close_reason":"Changed trigger to check only 'not_going' instead of nonexistent 'cancelled'","dependencies":[{"issue_id":"app-5cn.7.1","depends_on_id":"app-5cn.7","type":"parent-child","created_at":"2026-02-03T23:47:22.0683586-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.7.2","title":"[HIGH] GIST constraint filter mismatch between research and architecture","description":"Research uses NOT IN cancelled, arch uses IN pending_payment/confirmed","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:47:27.6730077-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:50:34.6229009-05:00","closed_at":"2026-02-03T23:50:34.6229009-05:00","close_reason":"Added refinement note explaining intentional filter difference","dependencies":[{"issue_id":"app-5cn.7.2","depends_on_id":"app-5cn.7","type":"parent-child","created_at":"2026-02-03T23:47:27.6748237-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.7.3","title":"[HIGH] get_available_slots hardcodes America/New_York timezone","description":"Should document single-timezone assumption","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:47:33.2965032-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:50:40.1243746-05:00","closed_at":"2026-02-03T23:50:40.1243746-05:00","close_reason":"Added timezone assumption comment in get_available_slots","dependencies":[{"issue_id":"app-5cn.7.3","depends_on_id":"app-5cn.7","type":"parent-child","created_at":"2026-02-03T23:47:33.2976674-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.7.4","title":"[HIGH] Extras CTE hardcodes 60-min slot duration","description":"Override slots should use instructor's configured slot_duration_minutes","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:47:38.8867054-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:50:45.6211596-05:00","closed_at":"2026-02-03T23:50:45.6211596-05:00","close_reason":"Added slot_duration_minutes to availability_overrides, updated extras CTE","dependencies":[{"issue_id":"app-5cn.7.4","depends_on_id":"app-5cn.7","type":"parent-child","created_at":"2026-02-03T23:47:38.887864-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.7.5","title":"[HIGH] Missing documentation for event_rsvps RLS with SECURITY DEFINER","description":"Document that members must use rsvp_to_event RPC, no direct INSERT","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:47:44.4764004-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:50:51.1433252-05:00","closed_at":"2026-02-03T23:50:51.1433252-05:00","close_reason":"Added Section 4.4 documenting event_rsvps RLS strategy","dependencies":[{"issue_id":"app-5cn.7.5","depends_on_id":"app-5cn.7","type":"parent-child","created_at":"2026-02-03T23:47:44.477665-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.7.6","title":"[HIGH] Phase mismatch: capacity/waitlist in Phase 2 vs Phase 5","description":"Section 1 puts capacity/waitlist in Phase 2 but Section 13 puts it in Phase 5","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:47:50.0959821-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:50:56.6538757-05:00","closed_at":"2026-02-03T23:50:56.6538757-05:00","close_reason":"Removed capacity/waitlist from Phase 2 description, clarified in Phase 5","dependencies":[{"issue_id":"app-5cn.7.6","depends_on_id":"app-5cn.7","type":"parent-child","created_at":"2026-02-03T23:47:50.0993526-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.7.7","title":"[HIGH] rsvp_to_event has no role guard for guests","description":"Guests can bypass role matrix via direct RPC call","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:47:55.7352732-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:51:02.1738069-05:00","closed_at":"2026-02-03T23:51:02.1738069-05:00","close_reason":"Added guest role check at start of rsvp_to_event function","dependencies":[{"issue_id":"app-5cn.7.7","depends_on_id":"app-5cn.7","type":"parent-child","created_at":"2026-02-03T23:47:55.7364537-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.7.8","title":"[CRITICAL-revised] Missing stripe_price_id template for paid recurring events","description":"event_series has no default_stripe_price_id; document inline pricing approach","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:48:01.3565539-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:51:07.6857731-05:00","closed_at":"2026-02-03T23:51:07.6857731-05:00","close_reason":"Added inline pricing comment in generate_series_events","dependencies":[{"issue_id":"app-5cn.7.8","depends_on_id":"app-5cn.7","type":"parent-child","created_at":"2026-02-03T23:48:01.3582301-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.8","title":"Review round 2: calendar-architecture.md","description":"Second review round. Verify fixes from round 1 are correct. Check for new issues.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:51:31.154513-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:54:41.0514133-05:00","closed_at":"2026-02-03T23:54:41.0514133-05:00","close_reason":"Round 2 complete. 8/8 fixes verified. 2 new HIGH issues found and fixed (cron safety-net gap, view migration ordering).","dependencies":[{"issue_id":"app-5cn.8","depends_on_id":"app-5cn","type":"parent-child","created_at":"2026-02-03T23:51:31.1562146-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5cn.9","title":"Review round 3: calendar-architecture.md","description":"Third review round. Verify round 2 fixes. Check for remaining CRITICAL/HIGH issues.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T23:54:57.2130014-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T23:57:43.540131-05:00","closed_at":"2026-02-03T23:57:43.540131-05:00","close_reason":"Round 3 clean: 0 CRITICAL, 0 HIGH. Review cycle complete.","dependencies":[{"issue_id":"app-5cn.9","depends_on_id":"app-5cn","type":"parent-child","created_at":"2026-02-03T23:54:57.2140789-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx","title":"Design chat architecture","description":"Flesh out the chat feature architecture based on research in docs/research/chat-solution-analysis.md. Build on Supabase Realtime using tested open-source patterns from Cord, Valkyrie, Discord Clone, and chatscope. Deliverables: (1) PostgreSQL schema adapted from Cord/Valkyrie for channels, messages, threads, reactions, presence (2) RLS policies (3) Supabase Realtime integration plan (Broadcast, Presence, Postgres Changes) (4) UI component strategy (chatscope vs custom shadcn/ui) (5) Next.js route structure (6) Resolve open questions: threading model, read receipts, media handling, notifications, channel types. Reference projects to pull schemas from: getcord/cord, sentrionic/Valkyrie, nayak-nirmalya/discord-clone, supabase slack-clone.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T21:32:43.3400137-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:33:04.8809135-05:00","closed_at":"2026-02-03T22:33:04.8809135-05:00","close_reason":"Architecture design complete. 5 review rounds: R1 fixed 4 CRITICAL + 7 HIGH, R2 fixed 6 HIGH, R3 fixed 5 HIGH, R4 fixed 1 CRITICAL + 1 HIGH. R5 clean â€” no remaining CRITICAL or HIGH issues. Document ready for implementation."}
{"id":"app-5gx.1","title":"Review Cord PostgreSQL schema","description":"Pull and review getcord/cord PostgreSQL migrations. Document table structures for threads, reactions, mentions, notifications. Map which patterns are directly portable to our Supabase schema. This is the highest-value schema reference.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T21:37:51.8012842-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:08:47.4319415-05:00","closed_at":"2026-02-03T22:08:47.4319415-05:00","close_reason":"Research complete. Cord PostgreSQL schema analyzed and documented in docs/research/cord-database-schema-reference.md. Key patterns identified: reactions as separate table, mentions denormalized at write time, soft delete via timestamp, JSONB content format, generated tsvector for search.","dependencies":[{"issue_id":"app-5gx.1","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T21:37:51.8062836-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.10","title":"Fix C4: notification_preferences/muted_channels RLS uses auth.uid() instead of member_id","description":"Same members.id vs auth.users.id mismatch as C1. RLS policies on notification_preferences and muted_channels will never match.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:09:38.8059332-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:15:37.9281846-05:00","closed_at":"2026-02-03T22:15:37.9281846-05:00","close_reason":"Fixed: notification_preferences and muted_channels RLS now use get_current_member_id() instead of auth.uid().","dependencies":[{"issue_id":"app-5gx.10","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:09:38.8097853-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.11","title":"Fix H1: channel_members RLS blocks presence, member lists, reactions","description":"SELECT policy only allows self-read. Cannot display member counts or lists. Missing INSERT/DELETE policies for admin channel management.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:10:11.0020238-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:15:54.2813648-05:00","closed_at":"2026-02-03T22:15:54.2813648-05:00","close_reason":"Fixed: Added co-member visibility policy, admin INSERT/DELETE policies, and self-leave DELETE policy on channel_members.","dependencies":[{"issue_id":"app-5gx.11","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:10:11.005155-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.12","title":"Fix H2: No RLS INSERT policy for message_attachments","description":"No INSERT policy means no one can create attachment records. Upload flow breaks.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:10:16.9617886-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:16:00.000477-05:00","closed_at":"2026-02-03T22:16:00.000477-05:00","close_reason":"Fixed: Added INSERT policy for message_attachments requiring sender ownership of parent message/DM.","dependencies":[{"issue_id":"app-5gx.12","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:10:16.9666462-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.13","title":"Fix H3: Broadcast/reconnect duplicate messages","description":"No deduplication logic. Messages received via broadcast will be fetched again on reconnect.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:10:22.9012912-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:16:05.7963491-05:00","closed_at":"2026-02-03T22:16:05.7963491-05:00","close_reason":"Fixed: Added client-side deduplication via Set of known message IDs in addMessage function.","dependencies":[{"issue_id":"app-5gx.13","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:10:22.9051113-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.14","title":"Fix H4: reply_count trigger ignores soft deletes","description":"Trigger fires on INSERT/DELETE but system uses soft delete. Counter never decrements.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:10:28.881513-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:16:11.4977925-05:00","closed_at":"2026-02-03T22:16:11.4977925-05:00","close_reason":"Fixed: reply_count trigger now handles UPDATE OF deleted_at for soft-delete decrement and un-delete increment.","dependencies":[{"issue_id":"app-5gx.14","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:10:28.8854865-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.15","title":"Fix H5: member_limited role has no channel access path","description":"No mechanism described for auto-enrolling member_limited users or preventing them from joining premium channels.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:10:34.9313657-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:16:17.4092136-05:00","closed_at":"2026-02-03T22:16:17.4092136-05:00","close_reason":"Fixed: Added section 8.3 documenting channel enrollment by role (public=auto-enroll, segment=admin-managed, admin-only=owner/instructor). member_limited distinction enforced at enrollment time.","dependencies":[{"issue_id":"app-5gx.15","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:10:34.9346632-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.16","title":"Fix H6: Missing ALTER TABLE ENABLE ROW LEVEL SECURITY","description":"No ENABLE RLS statements for new tables. Without them, policies have no effect.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:10:40.9932459-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:16:23.0836565-05:00","closed_at":"2026-02-03T22:16:23.0836565-05:00","close_reason":"Fixed: Added ALTER TABLE ENABLE ROW LEVEL SECURITY for all 5 new tables before policy definitions.","dependencies":[{"issue_id":"app-5gx.16","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:10:40.996997-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.17","title":"Fix H7: Unread count includes user's own messages","description":"get_unread_counts counts user's own messages as unread. Needs sender exclusion filter.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:10:46.9788573-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:16:28.7886643-05:00","closed_at":"2026-02-03T22:16:28.7886643-05:00","close_reason":"Fixed: get_unread_counts now excludes user's own messages via sender_id \\!= subquery.","dependencies":[{"issue_id":"app-5gx.17","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:10:46.9810157-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.18","title":"Fix H-NEW-1/2: Document dual-identity model for channel_members/reactions","description":"channel_members and message_reactions use auth.users(id) while messages use members(id). Document rationale or unify.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:19:02.7134782-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:22:10.5185939-05:00","closed_at":"2026-02-03T22:22:10.5185939-05:00","close_reason":"Fixed: Documented dual-identity model rationale in section 2.5. Access control tables use auth.uid() for RLS efficiency, content tables use members.id for display joins. Invariant documented: every chat user must have both auth.users and members rows.","dependencies":[{"issue_id":"app-5gx.18","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:19:02.7352417-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.19","title":"Fix H-NEW-3: DM storage RLS allows any authenticated user to read DM files","description":"Storage RLS for dms/ path has no participant validation. Any user can upload/read DM files.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:19:11.7916634-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:22:16.7648631-05:00","closed_at":"2026-02-03T22:22:16.7648631-05:00","close_reason":"Fixed: Added is_dm_participant() helper function. DM storage paths now validated via conversation_hash matching against actual DM participants.","dependencies":[{"issue_id":"app-5gx.19","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:19:11.8060823-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.2","title":"Evaluate chatscope visual fit","description":"Evaluate chatscope/chat-ui-kit-react components against our Tailwind/shadcn/ui design system. Can chatscope be styled to match our palette (red/coral #ef4444, gold/amber #f59e0b, neutrals)? Does override effort negate the benefit vs building custom shadcn/ui chat components? Produce a recommendation: adopt chatscope, build custom, or hybrid.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T21:38:32.4616853-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:02:55.9542424-05:00","closed_at":"2026-02-03T22:02:55.9542424-05:00","close_reason":"Chatscope rejected (SCSS incompatible with Tailwind). Recommendation: custom shadcn/ui components bootstrapped from Supabase UI Realtime Chat.","dependencies":[{"issue_id":"app-5gx.2","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T21:38:32.466741-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.20","title":"Fix H-NEW-4: No rate limit on direct_messages","description":"Rate limit trigger only on messages table. DM spam can flood notifications and exhaust Resend quota.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:19:19.7716167-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:22:22.807453-05:00","closed_at":"2026-02-03T22:22:22.807453-05:00","close_reason":"Fixed: Added check_dm_rate_limit() trigger on direct_messages. Max 20 DMs per 60 seconds per sender across all recipients.","dependencies":[{"issue_id":"app-5gx.20","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:19:19.8196172-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.21","title":"Fix H-NEW-5/6: DB functions accept arbitrary user_id without auth check","description":"mark_channel_read, mark_all_read, and get_unread_counts accept p_user_id parameter. Should use auth.uid() directly.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:19:27.4154537-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:22:28.7683333-05:00","closed_at":"2026-02-03T22:22:28.7683333-05:00","close_reason":"Fixed: Removed p_user_id parameter from get_unread_counts(), mark_channel_read(), and mark_all_read(). All three now use auth.uid() internally. Added SECURITY INVOKER.","dependencies":[{"issue_id":"app-5gx.21","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:19:27.4348999-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.22","title":"Fix R3-H1: members.user_id lacks UNIQUE constraint","description":"Chat architecture claims members.user_id is UNIQUE but database-schema.md does not have this constraint. get_current_member_id() depends on it.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:24:41.2516378-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:26:43.7278694-05:00","closed_at":"2026-02-03T22:26:43.7278694-05:00","close_reason":"Fixed: Added UNIQUE constraint requirement for members.user_id in architecture doc. Documented as prerequisite in section 2.5.","dependencies":[{"issue_id":"app-5gx.22","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:24:41.2561579-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.23","title":"Fix R3-H2/H3: channel_members UPDATE allows privilege escalation","description":"UPDATE policy allows members to change their own role column to admin/moderator. Need validation trigger to restrict column scope.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:24:48.0664646-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:26:49.586825-05:00","closed_at":"2026-02-03T22:26:49.586825-05:00","close_reason":"Fixed: Added validate_channel_member_update() trigger. Non-admins can only update last_read_at, mention_count, notifications_enabled. Added admin UPDATE policy for role changes.","dependencies":[{"issue_id":"app-5gx.23","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:24:48.0713323-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.24","title":"Fix R3-H4: direct_messages missing UPDATE policies","description":"No UPDATE policy means read_at cannot be set and messages cannot be soft-deleted. Need sender and recipient UPDATE policies.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:24:54.5445064-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:26:55.4465321-05:00","closed_at":"2026-02-03T22:26:55.4465321-05:00","close_reason":"Fixed: Added sender and recipient UPDATE policies on direct_messages. Added validate_dm_update() trigger to restrict recipients to read_at changes only.","dependencies":[{"issue_id":"app-5gx.24","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:24:54.5490182-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.25","title":"Fix R3-H5: is_dm_participant() unindexed md5 scan","description":"Storage RLS calls is_dm_participant() which computes md5 per row. Need functional index or materialized column.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:25:01.3134487-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:27:01.3280382-05:00","closed_at":"2026-02-03T22:27:01.3280382-05:00","close_reason":"Fixed: Added functional index idx_dm_conversation_hash on direct_messages using md5(LEAST/GREATEST) pattern to support is_dm_participant() lookups.","dependencies":[{"issue_id":"app-5gx.25","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:25:01.3192256-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.26","title":"Fix R4-C1/H1: m.role column does not exist - use is_staff()","description":"Chat architecture references m.role on members table but actual schema uses role_id + roles table. Replace all occurrences with is_staff() helper.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:29:22.6754807-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:30:45.5243471-05:00","closed_at":"2026-02-03T22:30:45.5243471-05:00","close_reason":"Fixed: Replaced all 5 occurrences of m.role IN ('owner','instructor') with is_staff() helper. The members table uses role_id + roles table, not a direct role column. is_staff() is SECURITY DEFINER and does the correct join.","dependencies":[{"issue_id":"app-5gx.26","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:29:22.6794029-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.3","title":"Check Supabase Realtime plan limits","description":"Research Supabase Realtime connection limits on our current plan. Confirm whether 50-200 simultaneous users are supported for Broadcast, Presence, and Postgres Changes without needing a plan upgrade. Document limits and any needed plan changes.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T21:39:04.9991288-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:03:05.7030248-05:00","closed_at":"2026-02-03T22:03:05.7030248-05:00","close_reason":"Pro plan sufficient for 200 users. Use Broadcast+DB persist pattern. Avoid Postgres Changes for chat. Cost: 0-150/mo.","dependencies":[{"issue_id":"app-5gx.3","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T21:39:05.0021212-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.4","title":"Decide notification strategy for chat","description":"Decide how members are notified of DMs and @mentions when not on the site. Options: in-app only, email (via Resend/Supabase Edge Functions), push notifications (requires service worker), or a notification platform (Novu, Knock). Decision affects the message processing pipeline and must be made before finalizing chat architecture.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T21:39:53.0054715-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:03:13.4284359-05:00","closed_at":"2026-02-03T22:03:13.4284359-05:00","close_reason":"Email via Edge Functions + Resend. Phased: in-app badges, immediate DM emails, batched mention digests. Free tier sufficient.","dependencies":[{"issue_id":"app-5gx.4","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T21:39:53.0113124-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.5","title":"Decide threading model","description":"Choose threading approach for chat. Options: (1) Simple reply_to_id (WhatsApp-style inline replies), (2) Dedicated thread channels (Discord-style, messages spawn sub-conversations), (3) Topic-based (Zulip-style, every message has channel + topic). Each has different schema, UI complexity, and UX. Consider what a 50-200 member dance community actually needs. Review how Cord, Valkyrie, and stream-chat-react implement threads.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T21:40:11.9732181-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:03:20.2294655-05:00","closed_at":"2026-02-03T22:03:20.2294655-05:00","close_reason":"Model A (reply_to_id) with reply_count enhancement. Zero schema changes. Migration path to threads documented.","dependencies":[{"issue_id":"app-5gx.5","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T21:40:11.9765175-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.6","title":"Design offline and catch-up behavior","description":"Define what happens when a member opens chat after being away. Key decisions: unread counts per channel, jump-to-first-unread, last-read marker (per-message vs per-channel), catch-up summary. Per-message read tracking is expensive at scale; per-channel last-read timestamp is simpler and likely sufficient for 50-200 users. Decision affects the read-tracking data model.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T21:40:29.4457028-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:03:27.5080353-05:00","closed_at":"2026-02-03T22:03:27.5080353-05:00","close_reason":"Per-channel last_read_at. Computed unread counts. Supabase Presence for online. Broadcast for typing. Schema and SQL functions documented.","dependencies":[{"issue_id":"app-5gx.6","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T21:40:29.449942-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.7","title":"Fix C1: sender_id vs auth.uid() FK mismatch in all RLS policies","description":"messages.sender_id references members(id) but RLS checks auth.uid() which returns auth.users.id. Must use get_current_member_id() helper or change FK to auth.users(id).","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:09:20.5810152-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:15:20.2260306-05:00","closed_at":"2026-02-03T22:15:20.2260306-05:00","close_reason":"Fixed: All RLS policies now use get_current_member_id() for members.id references and auth.uid() for auth.users.id references. Added identity note in section 2.5.","dependencies":[{"issue_id":"app-5gx.7","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:09:20.5837727-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.8","title":"Fix C2: Overlapping UPDATE policies allow unauthorized column changes","description":"Three UPDATE policies on messages table use OR semantics, allowing message owners to change any column, not just content or deleted_at. Need column-level validation trigger.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:09:26.6045191-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:15:26.0961183-05:00","closed_at":"2026-02-03T22:15:26.0961183-05:00","close_reason":"Fixed: Replaced 3 overlapping UPDATE policies with 2 clean policies + validate_message_update() BEFORE UPDATE trigger that enforces column-level restrictions.","dependencies":[{"issue_id":"app-5gx.8","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:09:26.6082988-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-5gx.9","title":"Fix C3: Storage RLS policies too permissive","description":"Storage policies only check authenticated status, not channel membership. Any user can upload/read any channel's files. Need path-based channel membership validation.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:09:32.6895853-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:15:32.146623-05:00","closed_at":"2026-02-03T22:15:32.146623-05:00","close_reason":"Fixed: Storage policies now validate channel membership via path-based extraction. Added DELETE policy for admins.","dependencies":[{"issue_id":"app-5gx.9","depends_on_id":"app-5gx","type":"parent-child","created_at":"2026-02-03T22:09:32.6935493-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-e11","title":"Design do-work + beads unified workflow","description":"Integration architecture for do-work skill with existing beads task framework. Covers: layer model, capture-to-ship pipeline, bridge sync, CLAUDE.md unification, friction elimination. Follows iterative review process.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:29:57.4099365-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:43:59.3521458-05:00","closed_at":"2026-02-04T10:43:59.3521458-05:00","close_reason":"Design complete. 2 review rounds: R1 found 2 CRITICAL + 5 HIGH, all fixed. R2 verified 7/7 fixes PASS, 0 new CRITICAL/HIGH. Document at docs/specs/workflow-integration.md."}
{"id":"app-e11.1","title":"[CRITICAL] Bridge layer has no trigger mechanism","description":"Bridge is described as pure CLAUDE.md instructions but assumes event-driven automation. No mechanism triggers bridge after do-work creates files.","status":"closed","priority":0,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:35:02.7662848-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:40:21.9428531-05:00","closed_at":"2026-02-04T10:40:21.9428531-05:00","close_reason":"Fixed: Eliminated separate bridge layer. Capture and bead creation are a single sequential flow in CLAUDE.md (Section 4). No separate trigger needed.","dependencies":[{"issue_id":"app-e11.1","depends_on_id":"app-e11","type":"parent-child","created_at":"2026-02-04T10:35:02.76786-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-e11.2","title":"[CRITICAL] Conflicting instruction authority between do-work and CLAUDE.md","description":"Two competing Markdown instruction sets with no defined precedence. Agent cannot follow both coherently.","status":"closed","priority":0,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:35:08.5141991-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:40:27.8732386-05:00","closed_at":"2026-02-04T10:40:27.8732386-05:00","close_reason":"Fixed: CLAUDE.md is the single orchestrator (Section 3.1). do-work's work action is NOT used. do-work provides capture format and verify scoring only. CLAUDE.md handles all orchestration.","dependencies":[{"issue_id":"app-e11.2","depends_on_id":"app-e11","type":"parent-child","created_at":"2026-02-04T10:35:08.5157699-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-e11.3","title":"[HIGH] Dual state machine: file-system folders vs JSONL","description":"do-work tracks status by folder location, beads tracks in JSONL. Two sources of truth with no atomic sync.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:35:14.2839588-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:40:33.8994765-05:00","closed_at":"2026-02-04T10:40:33.8994765-05:00","close_reason":"Fixed: Beads is source of truth for state (Section 3.3). REQ frontmatter mirrors state for readability only. Removed working/ folder. No dual state machine.","dependencies":[{"issue_id":"app-e11.3","depends_on_id":"app-e11","type":"parent-child","created_at":"2026-02-04T10:35:14.2866097-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-e11.4","title":"[HIGH] Path mismatch: beads in app/ vs do-work at project root","description":"bd commands require cd app, do-work at project root. Bridge operations will fail or require constant directory switching.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:35:20.0382353-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:40:39.9401385-05:00","closed_at":"2026-02-04T10:40:39.9401385-05:00","close_reason":"Fixed: do-work/ directory moved inside app/ (Section 6). All bd commands and do-work operations run from app/.","dependencies":[{"issue_id":"app-e11.4","depends_on_id":"app-e11","type":"parent-child","created_at":"2026-02-04T10:35:20.0400123-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-e11.5","title":"[HIGH] Conflicting commit models: one-per-REQ vs feature-branch","description":"do-work commits per REQ, dev-workflow commits per feature. Inconsistent git history for Route C.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:35:25.7732259-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:40:46.1239192-05:00","closed_at":"2026-02-04T10:40:46.1239192-05:00","close_reason":"Fixed: Per-route commit strategy defined (Section 5 Phase 3). Route A/B: one commit per REQ. Route C: dev-workflow feature branch model. Intentional difference documented.","dependencies":[{"issue_id":"app-e11.5","depends_on_id":"app-e11","type":"parent-child","created_at":"2026-02-04T10:35:25.7760264-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-e11.6","title":"[HIGH] No detection mechanism for do-work installation","description":"CLAUDE.md conditional has no runtime check for whether do-work is installed.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:35:31.5151233-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:40:52.0172295-05:00","closed_at":"2026-02-04T10:40:52.0172295-05:00","close_reason":"Fixed: Detection step added (Section 7.1). Agent checks if app/do-work/ directory exists. If absent, falls back to beads-only workflow.","dependencies":[{"issue_id":"app-e11.6","depends_on_id":"app-e11","type":"parent-child","created_at":"2026-02-04T10:35:31.5173268-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-e11.7","title":"[HIGH] Route C downgrades Feature Design Process to opt-in","description":"Contradicts existing convention that feature design is mandatory before building new features.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T10:35:37.1703977-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T10:40:57.8123114-05:00","closed_at":"2026-02-04T10:40:57.8123114-05:00","close_reason":"Fixed: Route C sub-classifies (Section 5 Phase 2, Section 7.5). New features trigger Feature Design Process (7 phases). Architecture work triggers Architecture Design Process (4 phases). Existing convention preserved.","dependencies":[{"issue_id":"app-e11.7","depends_on_id":"app-e11","type":"parent-child","created_at":"2026-02-04T10:35:37.1724345-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-e91","title":"Multi-role permissions and admin UI","description":"Implement: (1) Multi-role support - users can have multiple roles (guest, student, instructor, admin), (2) Default to guest on signup, (3) Admin UI to manage member roles, (4) Instructor availability management UI, (5) Role-based feature gating","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T16:36:03.3366989-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T17:07:20.3072904-05:00","closed_at":"2026-02-04T17:07:20.3072904-05:00","close_reason":"Implemented multi-role permissions system with: member_roles junction table, admin member management UI, instructor availability management UI, updated all RPC functions for backward compatibility"}
{"id":"app-e91.1","title":"Database migration: member_roles junction table","description":"Create member_roles table for many-to-many relationship between members and roles. Migrate existing role_id data. Update helper functions.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T16:36:31.5175788-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T16:50:07.6821754-05:00","closed_at":"2026-02-04T16:50:07.6821754-05:00","close_reason":"Created member_roles junction table migration with: multi-role support, updated helper functions, API functions for role management, auto-assign trigger updates","dependencies":[{"issue_id":"app-e91.1","depends_on_id":"app-e91","type":"parent-child","created_at":"2026-02-04T16:36:31.5210524-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-e91.2","title":"Admin members page with role management","description":"Build /dashboard/admin/members page showing all members with ability to add/remove roles. Only visible to users with admin permission.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T16:36:58.3575734-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T16:50:28.8822234-05:00","closed_at":"2026-02-04T16:50:28.8822234-05:00","close_reason":"Built admin members management page at /dashboard/admin/members with: member list, role badges, search/filter, add/remove roles dialog","dependencies":[{"issue_id":"app-e91.2","depends_on_id":"app-e91","type":"parent-child","created_at":"2026-02-04T16:36:58.3632801-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-e91.3","title":"Instructor availability management UI","description":"Build UI for instructors to set their weekly availability and date-specific overrides. Accessible from private-sessions page for users with instructor role.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T16:38:03.1367974-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T16:50:48.364553-05:00","closed_at":"2026-02-04T16:50:48.364553-05:00","close_reason":"Built InstructorAvailabilityManager component on /private-sessions page for instructors to set weekly availability","dependencies":[{"issue_id":"app-e91.3","depends_on_id":"app-e91","type":"parent-child","created_at":"2026-02-04T16:38:03.1589185-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-e91.4","title":"Update middleware and helpers for multi-role","description":"Update is_staff(), RLS policies, and middleware to check member_roles table instead of single role_id.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T16:39:47.1954172-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T16:51:07.1887151-05:00","closed_at":"2026-02-04T16:51:07.1887151-05:00","close_reason":"Helper functions is_staff(), is_admin(), is_instructor(), has_role() updated in migration to use member_roles table","dependencies":[{"issue_id":"app-e91.4","depends_on_id":"app-e91","type":"parent-child","created_at":"2026-02-04T16:39:47.2689759-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-e91.5","title":"Fix CRITICAL: Instructor queries use old schema","description":"Update private-sessions/page.tsx and api/instructors/route.ts to query member_roles table instead of members.role_id FK","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T16:53:56.0505631-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T16:58:25.8637301-05:00","closed_at":"2026-02-04T16:58:25.8637301-05:00","close_reason":"Updated instructor queries in page.tsx and instructors API to check both member_roles and legacy role_id for backward compatibility","dependencies":[{"issue_id":"app-e91.5","depends_on_id":"app-e91","type":"parent-child","created_at":"2026-02-04T16:53:56.0521164-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-e91.6","title":"Fix HIGH: Race condition in remove_member_role","description":"Add FOR UPDATE lock in remove_member_role function","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T16:54:14.3962111-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T16:58:31.4840839-05:00","closed_at":"2026-02-04T16:58:31.4840839-05:00","close_reason":"Added FOR UPDATE lock in remove_member_role to prevent race condition","dependencies":[{"issue_id":"app-e91.6","depends_on_id":"app-e91","type":"parent-child","created_at":"2026-02-04T16:54:14.3977735-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-e91.7","title":"Fix HIGH: Missing UUID validation in roles API","description":"Add UUID format validation in admin roles API route","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T16:54:20.5634924-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T16:58:37.0818469-05:00","closed_at":"2026-02-04T16:58:37.0818469-05:00","close_reason":"Added UUID regex validation in roles API route","dependencies":[{"issue_id":"app-e91.7","depends_on_id":"app-e91","type":"parent-child","created_at":"2026-02-04T16:54:20.5679323-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-e91.8","title":"Fix CRITICAL: Update booking RPC functions for multi-role","description":"Create follow-up migration to update create_booking, confirm_booking, and other RPC functions to check member_roles table","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T17:00:53.1208675-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T17:01:59.5294158-05:00","closed_at":"2026-02-04T17:01:59.5294158-05:00","close_reason":"Created follow-up migration 20260204150000 with member_has_role helper and updated all booking RPC functions to check both member_roles and legacy role_id","dependencies":[{"issue_id":"app-e91.8","depends_on_id":"app-e91","type":"parent-child","created_at":"2026-02-04T17:00:53.1224269-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-mob1","title":"Make class schedule calendar mobile-friendly","description":"The schedule grid on /schedule is not responsive on mobile devices. Needs horizontal scroll, stacked layout, or other mobile-friendly approach so users can view and interact with the class schedule on phones.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-04T12:00:00-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T09:44:51.7730979-05:00","closed_at":"2026-02-04T09:44:51.7730979-05:00","close_reason":"Duplicate - replaced by app-r6c created via CLI"}
{"id":"app-r6c","title":"Make class schedule calendar mobile-friendly","description":"The schedule grid on /schedule is not responsive on mobile devices. Needs horizontal scroll, stacked layout, or other mobile-friendly approach so users can view and interact with the class schedule on phones.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T09:44:24.2306809-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T09:50:22.8267675-05:00","closed_at":"2026-02-04T09:50:22.8267675-05:00","close_reason":"Mobile layout implemented with day tabs and stacked cards for <768px screens"}
{"id":"app-ufg","title":"Phase 0 - Foundation","description":"Complete foundation phase: public pages, Supabase setup, auth system, member dashboard, admin basics, and initial Vercel deploy.","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:40:04.0280157-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:40:04.0280157-05:00"}
{"id":"app-ufg.1","title":"0A: Public Pages Content & Styling","description":"Populate all public placeholder pages (Home, About, Pricing, Contact) with real content and apply brand styling (red/coral #ef4444, gold/amber #f59e0b). Mobile-first responsive design.","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:40:36.0963566-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:40:36.0963566-05:00","dependencies":[{"issue_id":"app-ufg.1","depends_on_id":"app-ufg","type":"parent-child","created_at":"2026-02-03T18:40:36.1009196-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.1.1","title":"Build Landing Page","description":"Hero section with CTAs, class highlights grid, testimonials section, studio vibe imagery. Primary conversion: join link.","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:41:16.1244923-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:41:16.1244923-05:00","dependencies":[{"issue_id":"app-ufg.1.1","depends_on_id":"app-ufg.1","type":"parent-child","created_at":"2026-02-03T18:41:16.132575-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.1.2","title":"Build About Page","description":"Studio story, mission, instructor profiles with photos/bios, studio culture section.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:41:18.2432372-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:41:18.2432372-05:00","dependencies":[{"issue_id":"app-ufg.1.2","depends_on_id":"app-ufg.1","type":"parent-child","created_at":"2026-02-03T18:41:18.2906798-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.1.3","title":"Build Pricing Page","description":"Subscription plan cards (monthly, annual, drop-in) with feature comparison. CTA to /join.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:41:19.9215779-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:41:19.9215779-05:00","dependencies":[{"issue_id":"app-ufg.1.3","depends_on_id":"app-ufg.1","type":"parent-child","created_at":"2026-02-03T18:41:19.9662669-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.1.4","title":"Build Contact Page","description":"Contact form (Resend), Google Maps embed, studio address/hours/phone, social links.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:41:21.5921431-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:41:21.5921431-05:00","dependencies":[{"issue_id":"app-ufg.1.4","depends_on_id":"app-ufg.1","type":"parent-child","created_at":"2026-02-03T18:41:21.6020744-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.1.5","title":"Apply Brand Styling & Responsive Polish","description":"Tailwind theme config (colors, fonts), Navbar/Footer polish, responsive breakpoints (sm/md/lg/xl), shadcn/ui component setup.","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:41:23.1888924-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:41:23.1888924-05:00","dependencies":[{"issue_id":"app-ufg.1.5","depends_on_id":"app-ufg.1","type":"parent-child","created_at":"2026-02-03T18:41:23.2191151-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.2","title":"0B: Infrastructure Setup","description":"Create Supabase project, configure auth provider (magic link), run Phase 0 schema migration (roles, members, tags, member_tags, invite_codes), set up env vars, configure Supabase client helpers.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:41:46.2278285-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T19:56:59.8679451-05:00","closed_at":"2026-02-03T19:56:59.8679451-05:00","close_reason":"Infrastructure setup complete: Supabase project created and linked, env vars configured, Supabase CLI initialized. Remaining children (DB migration, client helpers) are standalone tasks.","dependencies":[{"issue_id":"app-ufg.2","depends_on_id":"app-ufg","type":"parent-child","created_at":"2026-02-03T18:41:46.2334694-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.2.1","title":"Create Supabase Project & Configure Auth","description":"Create Supabase project, enable Email auth provider with magic link, configure redirect URLs, set site URL.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:08.4047687-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T19:17:16.5760461-05:00","closed_at":"2026-02-03T19:17:16.5760461-05:00","close_reason":"Supabase project created (lvtmnxrufmjkmnohdfnq) under Salsa Ninja org, linked locally, .env.local populated with keys.","dependencies":[{"issue_id":"app-ufg.2.1","depends_on_id":"app-ufg.2","type":"parent-child","created_at":"2026-02-03T18:42:08.4109613-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.2.2","title":"Run Phase 0 Database Migration","description":"Create Phase 0 tables: roles (with seed data), members, tags, member_tags, invite_codes. Enums, indexes, RLS policies, helper functions, triggers, views per database-schema.md.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:09.3274128-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T20:14:44.2645457-05:00","closed_at":"2026-02-03T20:14:44.2645457-05:00","close_reason":"Full schema migrated to remote Supabase: 19 tables, enums, indexes, RLS policies, helper functions, triggers, views. Roles and channels seeded.","dependencies":[{"issue_id":"app-ufg.2.2","depends_on_id":"app-ufg.2","type":"parent-child","created_at":"2026-02-03T18:42:09.3524075-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.2.3","title":"Configure Environment Variables & Supabase Client","description":"Set up .env.local with SUPABASE_URL, ANON_KEY, SERVICE_ROLE_KEY, APP_URL. Create Supabase client helpers (server component client, client component client, middleware client) using @supabase/ssr.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:10.2854593-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T20:18:01.0951272-05:00","closed_at":"2026-02-03T20:18:01.0951272-05:00","close_reason":"Installed @supabase/ssr + @supabase/supabase-js. Created server client, browser client, and middleware client helpers. Next.js middleware wired up with session refresh and route protection.","dependencies":[{"issue_id":"app-ufg.2.3","depends_on_id":"app-ufg.2","type":"parent-child","created_at":"2026-02-03T18:42:10.2887346-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.2.4","title":"Authenticate & Configure Vercel + Supabase CLIs","description":"Login to Vercel and Supabase CLIs, link project, configure env vars.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:56:30.0157732-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T19:38:11.6412345-05:00","closed_at":"2026-02-03T19:38:11.6412345-05:00","close_reason":"Vercel CLI authenticated (farikh-3854), Supabase CLI authenticated, both tokens persist across sessions.","dependencies":[{"issue_id":"app-ufg.2.4","depends_on_id":"app-ufg.2","type":"parent-child","created_at":"2026-02-03T18:56:30.0213839-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.3","title":"0C: Auth System","description":"Build complete auth flow: invite-only registration (QR/referral link â†’ email â†’ magic link â†’ profile setup), login, logout, session persistence, route protection middleware. Ref: auth-and-roles.md, membership/technical-design.md, membership/ui-wireframes.md.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:31.3256109-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T20:36:59.7986102-05:00","closed_at":"2026-02-03T20:36:59.7986102-05:00","close_reason":"Auth system complete: login, join flow (invite code â†’ email â†’ profile setup), callback handler, middleware, logout.","dependencies":[{"issue_id":"app-ufg.3","depends_on_id":"app-ufg","type":"parent-child","created_at":"2026-02-03T18:42:31.3360561-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.3.1","title":"Build Join/Registration Flow","description":"Multi-step invite-only registration: /join (enter invite code or referral link) â†’ /join/verify (enter email, send magic link, show 'check email' screen) â†’ /join/profile (name, avatar, dance experience) â†’ /join/plan (subscription selection, skip for now). Validate invite codes against invite_codes table.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:52.1132775-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T20:36:40.882404-05:00","closed_at":"2026-02-03T20:36:40.882404-05:00","close_reason":"Join flow: invite code validation â†’ email input â†’ magic link sent. Multi-step UI with progress indicator.","dependencies":[{"issue_id":"app-ufg.3.1","depends_on_id":"app-ufg.3","type":"parent-child","created_at":"2026-02-03T18:42:52.1166542-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.3.2","title":"Build Login Page","description":"Email input â†’ magic link sent â†’ 'check your email' confirmation. Returning user flow. /login route.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:52.8112346-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T20:36:28.242137-05:00","closed_at":"2026-02-03T20:36:28.242137-05:00","close_reason":"Login page with magic link, check-email confirmation state, link to /join.","dependencies":[{"issue_id":"app-ufg.3.2","depends_on_id":"app-ufg.3","type":"parent-child","created_at":"2026-02-03T18:42:52.8276017-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.3.3","title":"Build Auth Callback Handler","description":"C:/Program Files/Git/auth/callback/route.ts â€” Handle magic link redirect, exchange code for session, redirect to dashboard (existing member) or /join/profile (new member).","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:53.5331365-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T20:36:34.7296977-05:00","closed_at":"2026-02-03T20:36:34.7296977-05:00","close_reason":"Auth callback handler: exchanges code for session, routes new users to /join/profile, existing members to /dashboard.","dependencies":[{"issue_id":"app-ufg.3.3","depends_on_id":"app-ufg.3","type":"parent-child","created_at":"2026-02-03T18:42:53.5514095-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.3.4","title":"Build Auth Middleware","description":"middleware.ts â€” Supabase session check, protect (member) and (admin) route groups, role-based access per roleRoutes config, redirect unauthenticated to /login.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:54.3199273-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T20:36:47.4315552-05:00","closed_at":"2026-02-03T20:36:47.4315552-05:00","close_reason":"Middleware with Supabase session refresh, public route allowlist, redirect to /login for unauthenticated users.","dependencies":[{"issue_id":"app-ufg.3.4","depends_on_id":"app-ufg.3","type":"parent-child","created_at":"2026-02-03T18:42:54.3369543-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.3.5","title":"Build Logout","description":"Logout API route + UI button. Clear session, redirect to home.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:42:55.0892192-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T20:36:53.576417-05:00","closed_at":"2026-02-03T20:36:53.576417-05:00","close_reason":"Logout button component on dashboard, clears session and redirects to home.","dependencies":[{"issue_id":"app-ufg.3.5","depends_on_id":"app-ufg.3","type":"parent-child","created_at":"2026-02-03T18:42:55.1070602-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.4","title":"0D: Member Dashboard & Profile","description":"Build authenticated member pages: dashboard (upcoming events placeholder, announcements placeholder, quick links), profile view/edit, settings page. Role-based navigation (show/hide nav items based on role).","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:08.9294275-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:08.9294275-05:00","dependencies":[{"issue_id":"app-ufg.4","depends_on_id":"app-ufg","type":"parent-child","created_at":"2026-02-03T18:43:08.9315533-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.4.1","title":"Build Member Dashboard","description":"C:/Program Files/Git/dashboard â€” Welcome message with member name, upcoming events card (placeholder), recent announcements card (placeholder), quick action links (calendar, chat, videos based on role). Fetch current member profile from Supabase.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:27.086881-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:27.086881-05:00","dependencies":[{"issue_id":"app-ufg.4.1","depends_on_id":"app-ufg.4","type":"parent-child","created_at":"2026-02-03T18:43:27.0893245-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.4.2","title":"Build Profile View & Edit","description":"C:/Program Files/Git/profile â€” View own profile, edit form (name, display name, avatar upload, phone, bio, dance experience, preferred language). View other member profiles (limited info).","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:27.5967489-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:27.5967489-05:00","dependencies":[{"issue_id":"app-ufg.4.2","depends_on_id":"app-ufg.4","type":"parent-child","created_at":"2026-02-03T18:43:27.5988566-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.4.3","title":"Build Settings Page","description":"C:/Program Files/Git/settings â€” Account settings (email display, language preference), subscription status display, logout button.","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:28.1794016-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:28.1794016-05:00","dependencies":[{"issue_id":"app-ufg.4.3","depends_on_id":"app-ufg.4","type":"parent-child","created_at":"2026-02-03T18:43:28.1967951-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.4.4","title":"Build Role-Based Navigation","description":"Update Navbar for authenticated users: show/hide menu items based on role permissions. Member nav (Dashboard, Calendar, Chat, Videos, Settings). Admin nav (+ Admin link). Guest nav (limited). Mobile hamburger menu.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:28.6772474-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:28.6772474-05:00","dependencies":[{"issue_id":"app-ufg.4.4","depends_on_id":"app-ufg.4","type":"parent-child","created_at":"2026-02-03T18:43:28.6794087-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.5","title":"0E: Admin Basics","description":"Build admin shell: dashboard with member count/stats, members list with search, invite code generation page. Owner-only access.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:41.3891254-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:41.3891254-05:00","dependencies":[{"issue_id":"app-ufg.5","depends_on_id":"app-ufg","type":"parent-child","created_at":"2026-02-03T18:43:41.3908159-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.5.1","title":"Build Admin Dashboard Shell","description":"C:/Program Files/Git/admin â€” Stats cards (total members, active subscriptions, pending invites). Quick links to member management and invites. Owner role required.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:56.6765616-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:56.6765616-05:00","dependencies":[{"issue_id":"app-ufg.5.1","depends_on_id":"app-ufg.5","type":"parent-child","created_at":"2026-02-03T18:43:56.6788117-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.5.2","title":"Build Admin Members List","description":"C:/Program Files/Git/admin/members â€” Table of all members with role, subscription status, join date. Search/filter. Click to view details. Manual role assignment (US-OWN-03).","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:57.306912-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:57.306912-05:00","dependencies":[{"issue_id":"app-ufg.5.2","depends_on_id":"app-ufg.5","type":"parent-child","created_at":"2026-02-03T18:43:57.3226507-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.5.3","title":"Build Invite Code Management","description":"C:/Program Files/Git/admin/invites â€” Generate new invite codes (single or multi-use), set expiry, view active/expired codes, copy link, generate QR code. Tracks used_count.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:43:57.9749023-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:43:57.9749023-05:00","dependencies":[{"issue_id":"app-ufg.5.3","depends_on_id":"app-ufg.5","type":"parent-child","created_at":"2026-02-03T18:43:57.999932-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.6","title":"0F: Initial Deploy","description":"Connect GitHub repo to Vercel, configure env vars on Vercel, domain setup, smoke test all routes (public + auth + member + admin).","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:44:11.4528383-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T19:57:06.5519871-05:00","closed_at":"2026-02-03T19:57:06.5519871-05:00","close_reason":"Initial deploy complete: GitHub repo (farikh/salsa-ninja), Vercel auto-deploy from master, live at salsa-ninja-dev.vercel.app. Domain setup remaining as standalone task.","dependencies":[{"issue_id":"app-ufg.6","depends_on_id":"app-ufg","type":"parent-child","created_at":"2026-02-03T18:44:11.4551817-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.6.1","title":"Connect GitHub & Deploy to Vercel","description":"Push repo to GitHub, connect to Vercel, configure environment variables (Supabase URL/keys, APP_URL), set up automatic deployments from main branch.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:44:29.0573825-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T19:38:17.6004668-05:00","closed_at":"2026-02-03T19:38:17.6004668-05:00","close_reason":"Vercel project salsa-ninja created, connected to GitHub repo farikh/salsa-ninja, root directory set to app/, auto-deploy on push enabled. First deploy successful.","dependencies":[{"issue_id":"app-ufg.6.1","depends_on_id":"app-ufg.6","type":"parent-child","created_at":"2026-02-03T18:44:29.0630417-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.6.2","title":"Domain Setup & Smoke Test","description":"Configure custom domain on Vercel, verify DNS, smoke test all routes: public pages load, auth flow works end-to-end, member dashboard accessible after login, admin pages restricted to owner.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:44:30.2072427-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T18:44:30.2072427-05:00","dependencies":[{"issue_id":"app-ufg.6.2","depends_on_id":"app-ufg.6","type":"parent-child","created_at":"2026-02-03T18:44:30.2282508-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-ufg.6.3","title":"Initialize Git & Push to GitHub","description":"Git init at project root, create .gitignore, create GitHub repo via gh CLI, initial commit and push.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T18:56:10.8383669-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T19:12:37.2230947-05:00","closed_at":"2026-02-03T19:12:37.2230947-05:00","close_reason":"Repo created at github.com/farikh/salsa-ninja (private), initial commit pushed to master.","dependencies":[{"issue_id":"app-ufg.6.3","depends_on_id":"app-ufg.6","type":"parent-child","created_at":"2026-02-03T18:56:10.8434114-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-w1q","title":"Build restructured do-work skill with beads integration","description":"Fork and customize do-work skill: hierarchical index structure, beads integration in all actions, review loops, dev-workflow, design processes. Slim CLAUDE.md to project config only.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T12:05:12.4549836-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T12:29:02.618776-05:00","closed_at":"2026-02-04T12:29:02.618776-05:00","close_reason":"Restructured do-work skill with beads integration. 2 review rounds: R1 found 2C+4H, all fixed. R2: 6/6 PASS, 0 new CRITICAL/HIGH."}
{"id":"app-w1q.1","title":"CRITICAL: Remove do-work/working/ refs from cleanup.md","description":"cleanup.md references do-work/working/ in Pass 1 steps 2 and 3, but working/ was eliminated in the fork","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T12:21:18.9877816-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T12:23:41.5489394-05:00","closed_at":"2026-02-04T12:23:41.5489394-05:00","close_reason":"Removed do-work/working/ refs from cleanup.md Pass 1 steps 2+3 and 'What This Action Does NOT Do' section","dependencies":[{"issue_id":"app-w1q.1","depends_on_id":"app-w1q","type":"parent-child","created_at":"2026-02-04T12:21:18.9901577-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-w1q.2","title":"CRITICAL: Remove do-work/working/ refs from verify.md","description":"verify.md Step 3 searches do-work/working/ which doesn't exist in this fork","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T12:21:24.7053635-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T12:23:47.3194589-05:00","closed_at":"2026-02-04T12:23:47.3194589-05:00","close_reason":"Removed do-work/working/ ref from verify.md Step 3","dependencies":[{"issue_id":"app-w1q.2","depends_on_id":"app-w1q","type":"parent-child","created_at":"2026-02-04T12:21:24.7092098-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-w1q.3","title":"HIGH: Fix workflow-integration.md status in CLAUDE.md","description":"workflow-integration.md contains pre-fork contradictions; CLAUDE.md should note it as historical or remove the link","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T12:21:30.5105967-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T12:23:53.3893372-05:00","closed_at":"2026-02-04T12:23:53.3893372-05:00","close_reason":"Marked workflow-integration.md as Historical in CLAUDE.md docs index","dependencies":[{"issue_id":"app-w1q.3","depends_on_id":"app-w1q","type":"parent-child","created_at":"2026-02-04T12:21:30.5140216-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-w1q.4","title":"HIGH: Strengthen capture.md path override for do.md","description":"A single-line path override note is fragile for the 36KB do.md which has dozens of path references","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T12:21:36.1964677-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T12:23:59.48668-05:00","closed_at":"2026-02-04T12:23:59.48668-05:00","close_reason":"Replaced single-line path override with prominent blockquote including working/ elimination note","dependencies":[{"issue_id":"app-w1q.4","depends_on_id":"app-w1q","type":"parent-child","created_at":"2026-02-04T12:21:36.198833-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-w1q.5","title":"HIGH: Fix CLAUDE.md fallback beads reference","description":"Fallback points to .agents/skills/do-work/reference/beads.md which won't exist if skill isn't installed","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T12:21:41.9173333-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T12:24:05.5548207-05:00","closed_at":"2026-02-04T12:24:05.5548207-05:00","close_reason":"Changed fallback to check SKILL.md existence and point to .claude/docs/beads-usage.md","dependencies":[{"issue_id":"app-w1q.5","depends_on_id":"app-w1q","type":"parent-child","created_at":"2026-02-04T12:21:41.9190863-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-w1q.6","title":"HIGH: Deprecate orphaned old docs","description":"feature-design-process.md and .claude/docs/dev-workflow.md are superseded by skill files but not deprecated","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-04T12:21:47.6611038-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-04T12:24:11.4824341-05:00","closed_at":"2026-02-04T12:24:11.4824341-05:00","close_reason":"Added DEPRECATED notices to dev-workflow.md, feature-design-process.md, and note to beads-usage.md","dependencies":[{"issue_id":"app-w1q.6","depends_on_id":"app-w1q","type":"parent-child","created_at":"2026-02-04T12:21:47.6628443-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-xpo","title":"Resolve chat open design questions","description":"5 open questions from chat architecture review that need answers before or during implementation. See docs/specs/features/chat-architecture.md section 11.","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:44:16.5587989-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:44:16.5587989-05:00"}
{"id":"app-xpo.1","title":"Decide message content node types","description":"Do we need bullet, code, link nodes beyond p and mention? Determines editor complexity in Phase 1.","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:44:55.7125868-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:44:55.7125868-05:00","dependencies":[{"issue_id":"app-xpo.1","depends_on_id":"app-xpo","type":"parent-child","created_at":"2026-02-03T22:44:55.7186898-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-xpo.2","title":"Choose emoji picker library","description":"emoji-mart (full, larger bundle) vs curated subset (smaller, limited). Bundle size vs completeness tradeoff.","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:45:02.51107-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:45:02.51107-05:00","dependencies":[{"issue_id":"app-xpo.2","depends_on_id":"app-xpo","type":"parent-child","created_at":"2026-02-03T22:45:02.5170801-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-xpo.3","title":"Decide DM conversation grouping pattern","description":"LEAST/GREATEST index pattern (current) vs separate conversations table. Schema decision needed before Phase 2.","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:45:09.6920614-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:45:09.6920614-05:00","dependencies":[{"issue_id":"app-xpo.3","depends_on_id":"app-xpo","type":"parent-child","created_at":"2026-02-03T22:45:09.6996468-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-xpo.4","title":"Decide image compression strategy","description":"Client-side before upload (faster display, more client code) vs Edge Function after upload (simpler client, async processing). Affects UX and storage costs.","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:45:16.1545157-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:45:16.1545157-05:00","dependencies":[{"issue_id":"app-xpo.4","depends_on_id":"app-xpo","type":"parent-child","created_at":"2026-02-03T22:45:16.1642484-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-xpo.5","title":"Decide mention_count increment mechanism","description":"DB trigger on messages INSERT (reliable, adds INSERT overhead) vs Edge Function (async, could miss). Needs answer before Phase 3.","status":"open","priority":3,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-03T22:45:22.479656-05:00","created_by":"Tafari Higgs","updated_at":"2026-02-03T22:45:22.479656-05:00","dependencies":[{"issue_id":"app-xpo.5","depends_on_id":"app-xpo","type":"parent-child","created_at":"2026-02-03T22:45:22.4831299-05:00","created_by":"Tafari Higgs"}]}
{"id":"app-m0a","title":"Meeting prep & demo site polish","description":"Prepare the Vercel demo site for weekend meeting with studio owner. Polish public pages, test key flows, prepare talking points. 2-hour meeting covering his vision for the website.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T19:45:25.565Z","closed_at":"2026-02-06T19:45:25.565Z","close_reason":"All 5 sub-tasks complete. Home page polished (pricing synced, fake content replaced with CTAs), events page updated to next social, join flow verified, schedule page confirmed good, meeting roadmap document created. Build passes."}
{"id":"app-m0a.1","title":"Polish public pages with real studio content","description":"Replace placeholder text on hero section, contact page (real address/map), and schedule page with actual studio info. Makes the demo feel real instead of a template.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T19:27:30.960Z","dependencies":[{"issue_id":"app-m0a.1","depends_on_id":"app-m0a","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}],"closed_at":"2026-02-06T19:27:30.960Z","close_reason":"Synced home page pricing with schedule page (5/39/79). Replaced fake instructors with team teaser. Replaced fake testimonials with community/Instagram CTA. Replaced placeholder events with real monthly social + events link. Replaced gradient gallery with bootcamp CTA. Softened stats. Build passes."}
{"id":"app-m0a.2","title":"Test end-to-end Join flow","description":"Verify invite link -> registration -> profile setup -> dashboard flow works. Prepare a QR code to hand the owner during the meeting for a live demo.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T19:44:18.942Z","dependencies":[{"issue_id":"app-m0a.2","depends_on_id":"app-m0a","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}],"closed_at":"2026-02-06T19:44:18.942Z","close_reason":"Join flow works end-to-end: /login -> magic link or Google -> /auth/callback -> /join/profile (new users) -> /dashboard. Referral/invite code tracking not yet implemented (DB tables exist, UI does not). Flow is functional for meeting demo. Documented gaps for future work."}
{"id":"app-m0a.3","title":"Add sample event card on events page","description":"Create a mock upcoming social or workshop event card on /events to demonstrate event management vision. Even with hardcoded data, shows the concept.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T19:44:18.942Z","dependencies":[{"issue_id":"app-m0a.3","depends_on_id":"app-m0a","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}],"closed_at":"2026-02-06T19:44:18.942Z","close_reason":"Updated events page: replaced past Jan 16 New Year social with next monthly social (Feb 13, 2026). Updated description to be evergreen/recurring, changed dresscode from NEON to DRESS TO IMPRESS, updated entry pricing to show pre-sale and door prices. Build passes."}
{"id":"app-m0a.4","title":"Polish schedule page with class times","description":"Display actual class schedule info (even hardcoded). Shows immediate value over current Wix site.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T19:44:18.942Z","dependencies":[{"issue_id":"app-m0a.4","depends_on_id":"app-m0a","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}],"closed_at":"2026-02-06T19:44:18.942Z","close_reason":"Schedule page already has real content: DB-driven schedule grid, 5 real pricing tiers (5/9/39/79/09), bootcamp dates, private lesson packages, weekend info. No changes needed."}
{"id":"app-m0a.5","title":"Prepare meeting roadmap talking points","description":"Owner-friendly roadmap framed as business value: Now (live today), Next (weeks), Soon (1-2 months), Later (3-6 months). Cover private lesson booking demo, admin tools, and pipeline walkthrough.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T19:44:18.942Z","dependencies":[{"issue_id":"app-m0a.5","depends_on_id":"app-m0a","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}],"closed_at":"2026-02-06T19:44:18.942Z","close_reason":"Created docs/meeting-prep-roadmap.md with full meeting agenda: 5 sections (his vision, demo walkthrough, dev process, roadmap discussion, priority alignment), cost comparison table, things to collect from owner, and pre-meeting checklist."}
{"id":"app-m0b","title":"GitHub setup for non-technical owner","description":"Make GitHub usable for the studio owner: issue templates with friendly forms, labels, and project board. Owner should never need to know markdown or git.","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z"}
{"id":"app-m0b.1","title":"Create GitHub Issue form templates","description":"YAML-based issue forms: Feature Request (area dropdown, priority), Bug Report (device picker, screenshot upload), Content Update (page picker, new content), General Feedback (sentiment check). All auto-label with needs-triage.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","closed_at":"2026-02-06T18:32:38.320Z","close_reason":"Created 4 YAML issue templates in .github/ISSUE_TEMPLATE/: feature-request.yml, bug-report.yml, content-change.yml, general-feedback.yml. Config disables blank issues and links to Slack.","dependencies":[{"issue_id":"app-m0b.1","depends_on_id":"app-m0b","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0b.2","title":"Create GitHub labels for workflow","description":"Labels for: issue types (feature-request, bug, content, feedback), workflow states (needs-triage, in-progress, ready-for-review, approved), phases (phase-0 through phase-3), feature areas (booking, schedule, payments, design, mobile).","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","closed_at":"2026-02-06T18:32:38.320Z","close_reason":"Created 16 custom labels on farikh/salsa-ninja via gh CLI.","dependencies":[{"issue_id":"app-m0b.2","depends_on_id":"app-m0b","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0b.3","title":"Set up GitHub Projects kanban board","description":"Create project board with columns: Ideas -> Next Up -> In Progress -> Review -> Done. Enable auto-add rule for new issues. Share board URL with owner.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","dependencies":[{"issue_id":"app-m0b.3","depends_on_id":"app-m0b","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0b.4","title":"Pin issue template links in Slack","description":"Pin direct URLs to issue forms in #salsa-ninja-feedback channel. Deep links: /issues/new?template=feature-request.yml, content-change.yml, etc. One tap from Slack to full form.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","dependencies":[{"issue_id":"app-m0b.4","depends_on_id":"app-m0b","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0c","title":"Slack integration and automation","description":"Set up Slack as primary communication platform. Channels for feedback, deployments, reviews. Auto-notifications from GitHub Actions. GitHub for Slack app for interactive features.","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z"}
{"id":"app-m0c.1","title":"Create Slack workspace and channels","description":"Create workspace with 4 channels: #salsa-ninja-general (discussion), #salsa-ninja-feedback (auto-posts on new issues), #salsa-ninja-deployments (deploy notifications), #salsa-ninja-reviews (owner review pings).","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","dependencies":[{"issue_id":"app-m0c.1","depends_on_id":"app-m0c","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0c.2","title":"Set up Slack incoming webhooks","description":"Create Slack app at api.slack.com with 3 incoming webhooks: one per notification channel (feedback, deployments, reviews). Copy webhook URLs.","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","dependencies":[{"issue_id":"app-m0c.2","depends_on_id":"app-m0c","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0c.3","title":"Add webhook URLs to GitHub Secrets","description":"Add SLACK_WEBHOOK_FEEDBACK, SLACK_WEBHOOK_DEPLOYMENTS, SLACK_WEBHOOK_REVIEWS as repository secrets at github.com/farikh/salsa-ninja/settings/secrets/actions.","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","dependencies":[{"issue_id":"app-m0c.3","depends_on_id":"app-m0c","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0c.4","title":"Create GitHub Actions for Slack notifications","description":"Three workflow files: slack-notify-issues.yml (new issue -> #feedback), slack-notify-deploy.yml (push to master -> #deployments, PR -> preview ready), slack-notify-review-request.yml (ready-for-review label -> #reviews).","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","closed_at":"2026-02-06T18:32:38.320Z","close_reason":"Created 3 GitHub Actions workflow files in .github/workflows/. Also created slack-create-issue.yml for voice-to-issue pipeline support.","dependencies":[{"issue_id":"app-m0c.4","depends_on_id":"app-m0c","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0c.5","title":"Install GitHub for Slack app","description":"Install official GitHub app in Slack. Subscribe channels: /github subscribe farikh/salsa-ninja issues comments (in #feedback), deployments pulls (in #deployments), reviews (in #reviews). Enables /github create command.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","dependencies":[{"issue_id":"app-m0c.5","depends_on_id":"app-m0c","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0c.6","title":"Write Slack+GitHub setup guide documentation","description":"Comprehensive guide covering full Slack+GitHub setup: workspace creation, webhooks, secrets, app installation, channel subscriptions, and how-it-all-works-together flow diagram.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","closed_at":"2026-02-06T18:32:38.320Z","close_reason":"Created docs/setup-slack-github-integration.md with full step-by-step guide, owner quick reference, and Slack workflow automation ideas.","dependencies":[{"issue_id":"app-m0c.6","depends_on_id":"app-m0c","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0d","title":"Development pipeline: backlog to production","description":"Set up branching strategy (master/staging/feature), Vercel environments, and documented workflow for: idea capture -> development -> staging review -> production deploy.","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z"}
{"id":"app-m0d.1","title":"Create staging branch","description":"Create staging branch from master as the persistent review environment. All feature branches PR into staging first, then staging PRs into master for production.","status":"closed","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","closed_at":"2026-02-06T18:32:38.320Z","close_reason":"Created staging branch locally from master. Needs git push origin staging to activate on remote/Vercel.","dependencies":[{"issue_id":"app-m0d.1","depends_on_id":"app-m0d","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0d.2","title":"Push staging branch to remote","description":"Push staging branch to GitHub. Vercel will auto-detect and create preview deployment. Get the stable staging URL.","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","dependencies":[{"issue_id":"app-m0d.2","depends_on_id":"app-m0d","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0d.3","title":"Configure Vercel staging environment","description":"Set up stable staging URL (staging.domain.com or use Vercel auto-generated URL). Assign staging branch to preview environment. Optionally configure separate Supabase for staging.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","dependencies":[{"issue_id":"app-m0d.3","depends_on_id":"app-m0d","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0d.4","title":"Document pipeline workflow","description":"Write development pipeline doc covering: branch strategy, Vercel environments table, step-by-step workflow (capture -> build -> review -> ship -> verify), environment variables, and quick commands reference.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","closed_at":"2026-02-06T18:32:38.320Z","close_reason":"Created docs/development-pipeline.md with full pipeline documentation, branching strategy, Vercel config, and quick commands.","dependencies":[{"issue_id":"app-m0d.4","depends_on_id":"app-m0d","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0e","title":"Voice-to-issue pipeline (Slack voice -> GitHub Issues)","description":"Build a pipeline where the studio owner records a voice clip in Slack, it gets transcribed via Groq Whisper, structured by a lightweight LLM into issue fields (title, description, area, priority), and auto-creates a GitHub issue. Confirmation posted back in Slack thread.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z"}
{"id":"app-m0e.1","title":"Scaffold Slack Events API endpoint","description":"Create /api/slack/events route in Next.js app to receive Slack Events API webhooks. Handle URL verification challenge. Listen for file_shared events in designated channel.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","dependencies":[{"issue_id":"app-m0e.1","depends_on_id":"app-m0e","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0e.2","title":"Build audio download and transcription service","description":"Download audio file from Slack via url_private_download (requires bot token). Send to Groq Whisper Large v3 Turbo API for transcription. Handle audio formats (mp4/webm from Slack clips). Cost: ~$0.04/hour.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","dependencies":[{"issue_id":"app-m0e.2","depends_on_id":"app-m0e","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0e.3","title":"Build LLM structuring layer","description":"Send transcript to Claude Haiku or GPT-4o-mini with structured output prompt. Extract: title, description, area (from fixed list), priority. Handle multi-issue detection (owner mentions 3 things -> 3 issues). Cost: ~$0.001/request.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","dependencies":[{"issue_id":"app-m0e.3","depends_on_id":"app-m0e","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0e.4","title":"Build GitHub issue creation from structured data","description":"Use GitHub API (octokit) to create issues with extracted title, description, labels (mapped from area/priority). Support creating multiple issues from one voice memo.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","dependencies":[{"issue_id":"app-m0e.4","depends_on_id":"app-m0e","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0e.5","title":"Build Slack confirmation flow","description":"Post confirmation back in Slack thread showing what was captured: title, description, area, priority. Add approve/reject buttons. Only create GitHub issues after owner taps approve. Handle edits before submission.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","dependencies":[{"issue_id":"app-m0e.5","depends_on_id":"app-m0e","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0e.6","title":"Create Slack app manifest and setup docs","description":"Write Slack app manifest (bot token scopes: files:read, chat:write, etc.), event subscriptions config, and setup documentation. Include Groq API key and GitHub token as required env vars.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","dependencies":[{"issue_id":"app-m0e.6","depends_on_id":"app-m0e","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-m0e.7","title":"GitHub Action for Slack-triggered issue creation","description":"repository_dispatch workflow that creates GitHub issues from Slack webhook payloads. Supports structured input from voice pipeline or direct Slack form submission. Posts confirmation back to Slack.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs","updated_at":"2026-02-06T18:32:38.320Z","closed_at":"2026-02-06T18:32:38.320Z","close_reason":"Created .github/workflows/slack-create-issue.yml with repository_dispatch trigger, label mapping, and Slack confirmation.","dependencies":[{"issue_id":"app-m0e.7","depends_on_id":"app-m0e","type":"parent-child","created_at":"2026-02-06T18:32:38.320Z","created_by":"Tafari Higgs"}]}
{"id":"app-ga9","title":"Dashboard: Replace Quick Actions with tabbed navigation","description":"Remove the Quick Actions section from the admin dashboard. Replace with tab-style buttons (Home, Manage Members, Private Lessons) where Home is default. Clicking a tab shows its content inline below the buttons instead of navigating to a new page. The clicked button stays visible. Requires converting dashboard content area into a client component with tab state, embedding MembersManager and Private Sessions content inline.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-07T22:37:28.526Z","created_by":"Claude","updated_at":"2026-02-08T01:22:07.514Z","closed_at":"2026-02-08T01:22:07.514Z","close_reason":"Dashboard Quick Actions replaced with tabbed navigation (Home/Manage Members/Private Lessons). DashboardTabs client component with tab state management."}
{"id":"app-rjm","title":"Messages: View all conversations links to calendar instead of a messaging view","description":"DashboardMessages \"View all conversations\" link and individual message links all point to /private-sessions (the calendar/booking page). There is no conversations/messaging page where users can read or send messages. Need either: (1) a dedicated /conversations or /messages page that lists booking threads with a chat interface, or (2) a way to open a conversation thread from the private-sessions page (e.g. clicking a booking opens its message thread).","status":"closed","priority":2,"issue_type":"bug","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-07T23:28:55.426Z","created_by":"Claude","updated_at":"2026-02-08T01:22:07.514Z","closed_at":"2026-02-08T01:22:07.514Z","close_reason":"Created /dashboard/conversations page with ConversationsList component. Opens BookingDetailSheet for messaging. Updated DashboardMessages links."}
{"id":"app-u39","title":"My Enrollment: Replace schedule link with enrollment management UI","description":"Replace the current My Enrollment card (which just links to /schedule) with an interactive enrollment management section containing two parts:\n\n1. **Enrollment Plan Selector** â€” Shows current plan level, clickable to modify. Three tiers:\n   - 5 Classes/month â€” \u0000/mo\n   - 8 Classes/month â€” \u00039/mo\n   - Unlimited â€” \u00079/mo\n   (Plan names TBD, these are the pricing tiers)\n\n2. **Boot Camp Enrollment** â€” A secondary box showing boot camp status. If an upcoming boot camp exists, show a clickable card to enroll. If no upcoming boot camp or already enrolled, show a grayed-out/inactive state. Basic enrollment package is the default.\n\nThis will eventually tie into Stripe for payments but the UI/state management comes first.","status":"closed","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-07T23:30:05.711Z","created_by":"Claude","updated_at":"2026-02-08T01:22:07.514Z","closed_at":"2026-02-08T01:22:07.514Z","close_reason":"My Enrollment card with plan selector (5 classes/8 classes/unlimited) and boot camp toggle. API route + DB migration for enrollment_plan and bootcamp_enrolled fields."}
{"id":"app-wau","title":"Conversations page: Full messaging UI with threads, previews, rich text","description":"Replace current conversations page with proper messaging UI:\n- List of conversation threads with last message preview\n- Hover/rollover popup showing scrollable message exchange\n- Simple message controls with new message button\n- Rich text message area with emoji support\n- Recipient field with autocomplete from member database\n- Should feel like a real messaging interface, not just a booking thread list","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-08T15:28:03.649Z","created_by":"Claude","updated_at":"2026-02-08T15:28:03.649Z"}
{"id":"app-lsc","title":"Bootcamp enrollment: Only show if upcoming bootcamp event exists","description":"The boot camp toggle in My Enrollment should only appear when there is an upcoming event with type bootcamp in the database. Query upcoming_events for bootcamp type events and conditionally render the toggle.","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-08T15:28:03.649Z","created_by":"Claude","updated_at":"2026-02-08T15:28:03.649Z"}
{"id":"app-usc","title":"Events: Add Event dialog - fix date inputs, add event type picklist","description":"Issues with Add Event dialog on dashboard:\n- Start and end date inputs do not fit properly in the dialog\n- Calendar buttons are too dark / almost invisible\n- Add event_type picklist with options: Social, Bootcamp, Other","status":"open","priority":2,"issue_type":"bug","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-08T15:28:03.649Z","created_by":"Claude","updated_at":"2026-02-08T15:28:03.649Z"}
{"id":"app-612","title":"Private Lessons tab: Restructure layout for instructors and students","description":"Instructor view: Calendar appears right under Private Lessons title, upcoming bookings list below that, Your Availability section at bottom.\nStudent/guest view: Replace Book a Session section with the same calendar instructors use (read-only, no blocking). Show available/booked colors on calendar. Students cannot block time but can see availability and book slots.","status":"open","priority":1,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-08T15:28:03.649Z","created_by":"Claude","updated_at":"2026-02-08T15:28:03.649Z"}
{"id":"app-i44","title":"Events: Expand event model with full details, flyer upload, ticket purchase","description":"Expand the events database table and creation UI to include all fields shown on the event page:\n- Time, date, music genre, entry fee, tags (BYOB, light bites, etc.), dress code, location\n- Add Include Purchase Tickets toggle to event setup\n- Add image/flyer upload control\n- On event detail page: show flyer image section, conditionally show Purchase Tickets based on toggle\n- Event page details should query from the database events table","status":"open","priority":2,"issue_type":"task","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-08T15:28:03.649Z","created_by":"Claude","updated_at":"2026-02-08T15:28:03.649Z"}
{"id":"app-03a","title":"Bug: Manage Members - error when removing Guest role","description":"On the Manage Members page, attempting to deselect/remove the Guest role produces a popup error: FOR UPDATE is not allowed with aggregate functions. This is a Supabase RLS/function issue in the remove_member_role function which uses FOR UPDATE with a COUNT aggregate.","status":"open","priority":1,"issue_type":"bug","owner":"tafari.k.higgs@gmail.com","created_at":"2026-02-08T15:28:03.649Z","created_by":"Claude","updated_at":"2026-02-08T15:28:03.649Z"}
